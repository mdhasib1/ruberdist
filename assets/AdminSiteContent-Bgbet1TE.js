import{r as e,j as a,c5 as t,c6 as l,bp as s,c7 as n,bE as i,k as r,c8 as c,a$ as o,a2 as d,I as m,c9 as x,a4 as u,ca as b,cb as h,b as p}from"./vendor-Zgq9WbFI.js";const g=()=>{var g;const[v,f]=e.useState("en"),[y,N]=e.useState("homepage"),[S,C]=e.useState({}),[L,E]=e.useState(!1),[T,F]=e.useState("");e.useEffect((()=>{(async()=>{E(!0);try{const e=await p.get(`/api/site-content/${y}/${v}`);C(e.data.content||{})}catch(e){console.error("Error fetching content",e)}finally{E(!1)}})()}),[v,y]);const k=(e,a)=>{C((t=>({...t,[e]:a})))},D=(e,a,t,l)=>{const s=[...S[e]];s[a]={...s[a],[t]:l},C((a=>({...a,[e]:s})))};return a.jsxs("div",{className:"p-8 bg-gray-100 min-h-screen",children:[a.jsxs("h1",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:["Admin - Edit Site Content ",a.jsx(t,{className:"inline ml-2 text-indigo-600"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs(l,{fullWidth:!0,children:[a.jsxs(s,{id:"language-select-label",children:[a.jsx(n,{className:"mr-2"})," Language"]}),a.jsxs(i,{labelId:"language-select-label",value:v,onChange:e=>f(e.target.value),children:[a.jsxs(r,{value:"en",children:[a.jsx("span",{className:"fi fi-gb mr-2"})," English"]}),a.jsxs(r,{value:"de",children:[a.jsx("span",{className:"fi fi-de mr-2"})," German"]}),a.jsxs(r,{value:"fr",children:[a.jsx("span",{className:"fi fi-fr mr-2"})," French"]}),a.jsxs(r,{value:"it",children:[a.jsx("span",{className:"fi fi-it mr-2"})," Italian"]})]})]}),a.jsxs(l,{fullWidth:!0,children:[a.jsxs(s,{id:"section-select-label",children:[a.jsx(c,{className:"mr-2"})," Section"]}),a.jsxs(i,{labelId:"section-select-label",value:y,onChange:e=>N(e.target.value),children:[a.jsx(r,{value:"homepage",children:"Homepage"}),a.jsx(r,{value:"about_us",children:"About Us"}),a.jsx(r,{value:"contact_us",children:"Contact Us"}),a.jsx(r,{value:"services",children:"Services"})]})]})]}),L?a.jsx("div",{className:"flex justify-center my-8",children:a.jsx(o,{})}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[j[y].map((e=>a.jsx("div",{className:"mb-6",children:"text"===e.type?a.jsx(d,{label:e.label,variant:"outlined",fullWidth:!0,value:S[e.name]||"",onChange:a=>k(e.name,a.target.value)}):"textarea"===e.type?a.jsx(d,{label:e.label,variant:"outlined",multiline:!0,rows:4,fullWidth:!0,value:S[e.name]||"",onChange:a=>k(e.name,a.target.value)}):null},e.name))),"homepage"===y&&a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Features"}),null==(g=S.features)?void 0:g.map(((e,t)=>a.jsxs("div",{className:"mb-6 flex items-center space-x-4",children:[a.jsx(d,{label:"Feature Title",variant:"outlined",fullWidth:!0,value:e.title||"",onChange:e=>D("features",t,"title",e.target.value)}),a.jsx(d,{label:"Feature Description",variant:"outlined",fullWidth:!0,value:e.description||"",onChange:e=>D("features",t,"description",e.target.value)}),a.jsx(m,{color:"secondary",onClick:()=>((e,a)=>{const t=[...S[e]];t.splice(a,1),C((a=>({...a,[e]:t})))})("features",t),children:a.jsx(x,{})})]},t))),a.jsx(u,{variant:"contained",color:"primary",startIcon:a.jsx(b,{}),onClick:()=>(e=>{const a=[...S[e]||[]];a.push({title:"",description:""}),C((t=>({...t,[e]:a})))})("features"),className:"bg-indigo-600 hover:bg-indigo-500 shadow-md mb-6",children:"Add Feature"})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(u,{variant:"contained",color:"primary",startIcon:a.jsx(h,{}),onClick:async()=>{E(!0);try{await p.post(`/api/site-content/${v}/${y}`,S),F("Content saved successfully")}catch(e){console.error("Error saving content",e),F("Error saving content")}finally{E(!1)}},disabled:L,className:"bg-indigo-600 hover:bg-indigo-500 shadow-md",children:L?a.jsx(o,{size:20}):"Save"})}),T&&a.jsx("p",{className:"text-center text-green-600 mt-4",children:T})]})},j={homepage:[{name:"title",label:"Title",type:"text"},{name:"subtitle",label:"Subtitle",type:"text"},{name:"startDateLabel",label:"Start Date Label",type:"text"},{name:"startTimeLabel",label:"Start Time Label",type:"text"},{name:"endDateLabel",label:"End Date Label",type:"text"},{name:"endTimeLabel",label:"End Time Label",type:"text"},{name:"bookButtonLabel",label:"Book Button Label",type:"text"}],about_us:[{name:"title",label:"Title",type:"text"},{name:"subtitle",label:"Subtitle",type:"text"},{name:"description",label:"Description",type:"textarea"}],contact_us:[{name:"title",label:"Title",type:"text"},{name:"subtitle",label:"Subtitle",type:"text"},{name:"address",label:"Address",type:"text"},{name:"phone",label:"Phone",type:"text"},{name:"email",label:"Email",type:"text"}],services:[{name:"title",label:"Title",type:"text"},{name:"subtitle",label:"Subtitle",type:"text"},{name:"features",label:"Features",type:"textarea"}]};export{g as default};
