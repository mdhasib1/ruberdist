import{r as h,_ as x,u as G,a as Y,j as e,$ as De,a0 as ze,a1 as ee,a2 as I,a3 as te,a4 as Q,a5 as ce,a6 as L,a7 as Ce,a8 as Se,t as J,a9 as Ae,aa as le,I as M,ab as $e,ac as de,M as U,k as C,h as se,i as ae,g as ie,D as E,L as ne,ad as ue,ae as Pe,f as Fe,af as Ie,m as w,ag as Le,q as Me,ah as Ee,c as he,ai as _e,l as Be,aj as Ye,b as Re,ak as We,al as Oe,am as He,an as qe,ao as Ue,ap as _}from"./vendor-C9ifI4XU.js";import{a as R,l as T,u as Ve}from"./index-DfvkrZdQ.js";import{u as Ge}from"./useDeviceType-ZTuupadc.js";import{L as Qe}from"./LoginModal-9ZENgTVw.js";x.locale("en-gb");const Je=()=>{const[t,a]=h.useState(x()),[s,n]=h.useState(x().startOf("hour").add(1,"hour")),[c,o]=h.useState(x().add(1,"day")),[l,f]=h.useState(x().startOf("hour").add(2,"hour")),[m,v]=h.useState(""),{translations:i}=R(),g=G(),{lang:p}=Y(),b=()=>{if(t&&s&&c&&l){const r=x(`${x(t).format("DD-MM-YYYY")}T${x(s).format("HH:mm")}`);if(x(`${x(c).format("DD-MM-YYYY")}T${x(l).format("HH:mm")}`).isBefore(r)){const y=r.add(1,"hour");o(y),f(y)}}},S=()=>{if(!t||!s||!c||!l){v("Please fill in all fields.");return}v("");const r=x(t).format("YYYY-MM-DD"),j=x(s).format("HH:mm"),y=x(c).format("YYYY-MM-DD"),k=x(l).format("HH:mm");g(`/${p}/vans?start_date=${r}&start_time=${j}&end_date=${y}&end_time=${k}`)},D=r=>{const j=x();return x(t).set("hour",x(r).hour()).set("minute",0).isBefore(j)};return e.jsx(De,{dateAdapter:ze,adapterLocale:"en-gb",children:e.jsxs("div",{className:"mx-auto p-6 rounded-lg space-y-5 py-5",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(ee,{label:i.startDate,value:t,onChange:r=>a(r),minDate:x(),inputFormat:"DD/MM/YYYY",renderInput:r=>e.jsx(I,{...r,fullWidth:!0,error:!!m,helperText:m,variant:"outlined"})}),e.jsx(te,{label:i.startTime,value:s,onChange:r=>n(r||x().startOf("hour").add(1,"hour")),onClose:b,inputFormat:"HH:mm",renderInput:r=>e.jsx(I,{...r,fullWidth:!0,error:!!m,helperText:m,variant:"outlined"}),views:["hours"],ampm:!1,shouldDisableTime:(r,j)=>j==="hours"&&D(r)}),e.jsx(ee,{label:i.endDate,value:c,onChange:r=>o(r),minDate:t||x(),inputFormat:"DD/MM/YYYY",onClose:b,renderInput:r=>e.jsx(I,{...r,fullWidth:!0,error:!!m,helperText:m,variant:"outlined"})}),e.jsx(te,{label:i.endTime,value:l,onChange:r=>f(r||x().startOf("hour").add(2,"hour")),onClose:b,renderInput:r=>e.jsx(I,{...r,fullWidth:!0,error:!!m,helperText:m,variant:"outlined"}),views:["hours"],ampm:!1,shouldDisableTime:(r,j)=>j==="hours"&&D(r)})]}),e.jsxs(Q,{variant:"contained",fullWidth:!0,onClick:S,className:"mt-4 shadow-lg bg-blue-600 hover:bg-blue-900 transition duration-300 z-50",children:[i.bookNowButton," ",e.jsx(ce,{className:"ml-2"})]}),m&&e.jsx("p",{className:"text-red-500 mt-2 text-center",children:m})]})})},oe={en:{title:"Cookie Preferences",description:"We use cookies to enable you to navigate efficiently and perform certain functions. Detailed information about all cookies can be found below under each consent category.",privacyPolicy:"Privacy Policy",necessaryTitle:"Necessary",necessaryDesc:"Necessary cookies are essential to the basic functions of the website. Without them, the website cannot function as intended. These cookies do not store any personal data.",functionalTitle:"Functional",functionalDesc:"Functional cookies help to perform certain functionalities like sharing content on social media, collecting feedback, and supporting third-party features.",analyticsTitle:"Analytics",analyticsDesc:"Analytics cookies are used to understand how visitors interact with the website. They collect data such as visitor count, bounce rate, and traffic sources.",performanceTitle:"Performance",performanceDesc:"Performance cookies track key performance indicators to improve user experience, such as website speed and responsiveness.",advertisingTitle:"Advertising",advertisingDesc:"Advertising cookies deliver targeted advertisements and measure their effectiveness based on visitor activity.",uncategorizedTitle:"Uncategorized",uncategorizedDesc:"Uncategorized cookies are those that are being analyzed and have not yet been classified into a category.",save:"Save Preferences",accept:"Accept All"},it:{title:"Preferenze Cookie",description:"Utilizziamo i cookie per consentirti di navigare in modo efficiente e svolgere determinate funzioni. Informazioni dettagliate su tutti i cookie sono disponibili di seguito in ogni categoria di consenso.",privacyPolicy:"Informativa sulla Privacy",necessaryTitle:"Necessari",necessaryDesc:"I cookie necessari sono essenziali per le funzioni di base del sito web. Senza di essi, il sito non può funzionare come previsto. Questi cookie non memorizzano dati personali.",functionalTitle:"Funzionali",functionalDesc:"I cookie funzionali consentono di eseguire determinate funzionalità come condividere contenuti sui social media, raccogliere feedback e supportare funzioni di terze parti.",analyticsTitle:"Analitici",analyticsDesc:"I cookie analitici vengono utilizzati per comprendere come i visitatori interagiscono con il sito. Raccolgono dati come il numero di visitatori, la frequenza di rimbalzo e le fonti di traffico.",performanceTitle:"Prestazioni",performanceDesc:"I cookie sulle prestazioni monitorano gli indicatori chiave per migliorare l'esperienza dell'utente, come la velocità e la reattività del sito web.",advertisingTitle:"Pubblicitari",advertisingDesc:"I cookie pubblicitari offrono annunci mirati e misurano la loro efficacia in base all'attività dei visitatori.",uncategorizedTitle:"Non categorizzati",uncategorizedDesc:"I cookie non categorizzati sono quelli che vengono analizzati e non sono ancora stati classificati in una categoria.",save:"Salva Preferenze",accept:"Accetta Tutti"},fr:{title:"Préférences de cookies",description:"Nous utilisons des cookies pour vous permettre de naviguer efficacement et d'effectuer certaines fonctions. Des informations détaillées sur tous les cookies sont disponibles ci-dessous sous chaque catégorie de consentement.",privacyPolicy:"Politique de Confidentialité",necessaryTitle:"Nécessaires",necessaryDesc:"Les cookies nécessaires sont essentiels aux fonctions de base du site Web. Sans eux, le site ne peut pas fonctionner comme prévu. Ces cookies ne stockent aucune donnée personnelle.",functionalTitle:"Fonctionnels",functionalDesc:"Les cookies fonctionnels permettent d'exécuter certaines fonctionnalités comme partager du contenu sur les réseaux sociaux, collecter des commentaires et prendre en charge des fonctionnalités tierces.",analyticsTitle:"Analytiques",analyticsDesc:"Les cookies analytiques sont utilisés pour comprendre comment les visiteurs interagissent avec le site Web. Ils collectent des données telles que le nombre de visiteurs, le taux de rebond et les sources de trafic.",performanceTitle:"Performance",performanceDesc:"Les cookies de performance suivent les indicateurs clés pour améliorer l'expérience utilisateur, tels que la vitesse et la réactivité du site.",advertisingTitle:"Publicitaires",advertisingDesc:"Les cookies publicitaires diffusent des publicités ciblées et mesurent leur efficacité en fonction de l'activité des visiteurs.",uncategorizedTitle:"Non catégorisés",uncategorizedDesc:"Les cookies non catégorisés sont ceux qui sont en cours d'analyse et n'ont pas encore été classés dans une catégorie.",save:"Enregistrer les préférences",accept:"Tout accepter"},de:{title:"Cookie-Einstellungen",description:"Wir verwenden Cookies, um Ihnen eine effiziente Navigation zu ermöglichen und bestimmte Funktionen auszuführen. Detaillierte Informationen zu allen Cookies finden Sie unten in jeder Zustimmungskategorie.",privacyPolicy:"Datenschutzrichtlinie",necessaryTitle:"Notwendig",necessaryDesc:"Notwendige Cookies sind für die grundlegenden Funktionen der Website unerlässlich. Ohne sie kann die Website nicht wie vorgesehen funktionieren. Diese Cookies speichern keine persönlichen Daten.",functionalTitle:"Funktional",functionalDesc:"Funktionale Cookies helfen dabei, bestimmte Funktionen wie das Teilen von Inhalten in sozialen Medien, das Sammeln von Feedback und andere Funktionen von Drittanbietern auszuführen.",analyticsTitle:"Analyse",analyticsDesc:"Analyse-Cookies werden verwendet, um zu verstehen, wie Besucher mit der Website interagieren. Sie sammeln Daten wie Besucherzahl, Absprungrate und Traffic-Quellen.",performanceTitle:"Leistung",performanceDesc:"Leistungs-Cookies verfolgen wichtige Leistungsindikatoren, um die Benutzererfahrung zu verbessern, z. B. Website-Geschwindigkeit und Reaktionsfähigkeit.",advertisingTitle:"Werbung",advertisingDesc:"Werbe-Cookies liefern gezielte Werbung und messen deren Wirksamkeit basierend auf der Besucheraktivität.",uncategorizedTitle:"Nicht kategorisiert",uncategorizedDesc:"Nicht kategorisierte Cookies sind solche, die analysiert werden und noch keiner Kategorie zugeordnet wurden.",save:"Einstellungen speichern",accept:"Alle akzeptieren"}},Ze=()=>{const[t,a]=h.useState(!1),[s,n]=h.useState({functional:!0,analytics:!0,performance:!0,advertising:!0}),{lang:c}=Y(),o=oe[c]||oe.en;h.useEffect(()=>{const i=L.get("cookie_consent");i?i==="accepted"&&l():a(!0)},[]);const l=()=>{if(!window.gtag){let i=function(){window.dataLayer.push(arguments)};const g=document.createElement("script");g.src="https://www.googletagmanager.com/gtag/js?id=G-46R83P6QMQ",g.async=!0,document.body.appendChild(g),window.dataLayer=window.dataLayer||[],window.gtag=i,i("js",new Date),i("config","G-46R83P6QMQ")}},f=()=>{const i=document.querySelector('script[src="https://www.googletagmanager.com/gtag/js?id=G-46R83P6QMQ"]');i&&i.remove(),document.cookie="_ga=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="_gid=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="_gat=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"},m=()=>{Object.keys(s).forEach(i=>{L.set(i,s[i],{expires:365})}),s.analytics?l():f(),L.set("cookie_consent","custom",{expires:365}),a(!1)},v=()=>{n({functional:!0,analytics:!0,performance:!0,advertising:!0}),l(),L.set("cookie_consent","accepted",{expires:365}),a(!1)};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:e.jsxs("div",{className:"bg-white relative rounded-lg shadow-lg max-w-3xl w-full p-6 space-y-6 sm:h-auto h-[65vh] flex flex-col",children:[e.jsx("h2",{className:"text-xl font-bold",children:o.title}),e.jsx("p",{className:"text-sm",children:o.description}),e.jsxs("div",{className:"space-y-4 flex-grow overflow-auto",children:[e.jsx(A,{title:o.necessaryTitle,description:o.necessaryDesc,toggle:null}),e.jsx(A,{title:o.functionalTitle,description:o.functionalDesc,toggle:e.jsx(B,{isChecked:s.functional,onChange:i=>n({...s,functional:i})})}),e.jsx(A,{title:o.analyticsTitle,description:o.analyticsDesc,toggle:e.jsx(B,{isChecked:s.analytics,onChange:i=>n({...s,analytics:i})})}),e.jsx(A,{title:o.performanceTitle,description:o.performanceDesc,toggle:e.jsx(B,{isChecked:s.performance,onChange:i=>n({...s,performance:i})})}),e.jsx(A,{title:o.advertisingTitle,description:o.advertisingDesc,toggle:e.jsx(B,{isChecked:s.advertising,onChange:i=>n({...s,advertising:i})})}),e.jsx(A,{title:o.uncategorizedTitle,description:o.uncategorizedDesc,toggle:null})]}),e.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:o.save}),e.jsx("button",{onClick:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:o.accept})]})]})}):null},A=({title:t,description:a,toggle:s})=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:t}),e.jsx("p",{className:"text-sm text-gray-600",children:a})]}),s]}),B=({isChecked:t,onChange:a})=>e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:s=>a(s.target.checked)}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-400 rounded-full peer-checked:bg-blue-500 transition"}),e.jsx("div",{className:"absolute top-0.5 left-1 w-5 h-5 bg-white border border-gray-300 rounded-full transition-transform peer-checked:translate-x-5"})]}),me=()=>{const t=h.useRef([]);return h.useEffect(()=>{t.current.forEach((a,s)=>{if(a){const n=Math.random()*100;a.style.left=`${n}%`}})},[]),e.jsxs("div",{className:"animation-container",children:[e.jsxs("svg",{className:"road",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 40",preserveAspectRatio:"none",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"roadGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"-30%",stopColor:"#ff5252"}),e.jsx("stop",{offset:"100%",stopColor:"#e63946"})]})}),e.jsx("rect",{x:"0",y:"30",width:"100",height:"10",fill:"#333"}),e.jsx("line",{x1:"0",y1:"35",x2:"100",y2:"35",stroke:"#fff",strokeWidth:"0.5",strokeDasharray:"3,2"})]}),e.jsx("img",{src:"https://rubertogo.fra1.digitaloceanspaces.com/images/1736120575234.png",alt:"Van",className:"van",loading:"lazy"}),Array.from({length:3}).map((a,s)=>e.jsx("div",{ref:n=>t.current[s]=n,className:`bubble bubble-${s}`},s))]})},Xe=()=>{const{translations:t}=R(),a=[{value:t.footer.socialMedia.facebook,href:"https://www.facebook.com/profile.php?id=61559499242192",icon:e.jsx(Ce,{className:"text-3xl text-blue-500 hover:text-blue-700 transition-colors duration-300"})},{value:t.footer.socialMedia.instagram,href:"https://www.instagram.com/ruber_to_go?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",icon:e.jsx(Se,{className:"text-3xl text-pink-500 hover:text-pink-700 transition-colors duration-300"})}],s=Object.values(t.footer.advantages);return e.jsxs("footer",{className:"bg-gradient-to-r from-[#ff0707] to-[#ff0707] text-white relative overflow-hidden -z-10",children:[e.jsx("div",{className:"container mx-auto py-12 px-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 text-center md:text-left",children:[e.jsxs("div",{children:[e.jsx("img",{src:"/rubertogo-logo-white.svg",width:200,alt:t.footer.logoAlt,className:"mx-auto md:mx-0 mb-4"}),e.jsx("p",{className:"text-sm max-w-96 text-center md:text-left mx-auto md:mx-0",children:t.footer.description}),e.jsx("div",{className:"flex sm:justify-start justify-center gap-6 mt-5",children:a.map((n,c)=>e.jsx(J,{to:n.href,target:"_blank",rel:"noreferrer",className:"p-2 rounded-full bg-white shadow-lg transition-transform transform hover:scale-110",children:n.icon},c))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:t.footer.whyChooseUs}),e.jsx("ul",{className:"space-y-2 text-sm leading-6",children:s.map((n,c)=>e.jsx("li",{className:"hover:text-gray-300 transition duration-300",children:n},c))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:t.footer.contactUs}),e.jsxs("p",{className:"text-lg mb-2",children:[t.footer.phone,": +41 76 76 78 328"]}),e.jsxs("p",{className:"text-lg mb-6",children:[t.footer.email,":"," ",e.jsx("a",{href:"mailto:info@rubertogo.ch",className:"hover:underline",children:"info@rubertogo.ch"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:t.footer.adminHeadquarters.title}),e.jsx("p",{children:t.footer.officeAddress.name}),e.jsx("p",{children:t.footer.officeAddress.address}),e.jsx("p",{children:t.footer.officeAddress.registration}),e.jsx("p",{children:t.footer.officeAddress.vat})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2 mt-5",children:t.footer.officeAddress.title}),e.jsx("p",{children:t.footer.adminHeadquarters.address})]})]})]})}),e.jsx(me,{}),e.jsx("div",{className:"w-full h-20 bg-gray-900 flex items-center justify-center",children:e.jsxs("p",{className:"text-center text-sm text-gray-400 flex items-center justify-center",children:[e.jsx(Ae,{className:"inline-block mr-2  text-lg"}),t.footer.rightsReserved.replace("{year}",new Date().getFullYear())]})})]})},Ke=({navbar:t,isHome:a,isLoggedIn:s,translations:n,language:c,handleLanguageChange:o,handleLogin:l,handleLogout:f,unreadCount:m,toggleSidebar:v,deviceType:i,handleNotificationOpen:g,handleNotificationClose:p,notificationAnchorEl:b,notifications:S,handleDeskAccountClick:D,anchorEl:r,handleMenuClose:j,handleMenuSelect:y,handleNotificationClick:k,isPathActive:W})=>{const{lang:$}=Y(),P=G();return e.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[e.jsx(J,{to:`/${c}`,children:e.jsx("img",{src:t||!a?"/rubertogo-logo.svg":"/rubertogo-logo-white.svg",width:200,alt:"Logo"})}),["large-desktop","extra-large-desktop"].includes(i.deviceType)&&e.jsxs("div",{className:"flex items-center space-x-6",children:[["home","become_a_partner","vans","contact"].map(d=>e.jsx(le,{to:`/${c}/${d==="home"?"":d}`,className:({isActive:N})=>`text-xl font-bold transition duration-300 ${W(`/${c}/${d==="home"?"":d}`,d==="home")?"text-red-600 bg-red-50 border-b-2 py-2 px-4 rounded-lg border-orange-400":t||!a?"text-gray-800":"text-white"}`,children:n[d]},d)),s?e.jsxs(e.Fragment,{children:[e.jsx(M,{onClick:D,children:e.jsx($e,{sx:{bgcolor:"red",border:"2px solid white"},children:e.jsx(de,{width:80,className:"text-2xl"})})}),e.jsxs(U,{anchorEl:r,open:!!r,onClose:j,children:[e.jsx(C,{onClick:()=>y(`/${c}/account`),children:"Prenotazioni"}),e.jsx(C,{onClick:()=>y(`/${c}/account?page=accountsettings`),children:"Impostazioni Account"}),e.jsxs(C,{onClick:f,sx:{display:"flex",justifyContent:"space-between"},children:["Disconnetti ",e.jsx(ce,{className:"text-xl text-red-500"})," "]})]}),e.jsx(M,{sx:{padding:"5px",background:"#fff"},color:"inherit",onClick:g,children:e.jsx(se,{badgeContent:m,color:"error",children:e.jsx(ae,{size:24,className:"text-red-600"})})}),e.jsxs(U,{anchorEl:b,open:!!b,onClose:p,PaperProps:{sx:{bgcolor:"#021e49",color:"#fff",width:400}},children:[e.jsx(ie,{variant:"h6",sx:{padding:"10px 16px",color:"#fff"},children:"Notifiche"}),e.jsx(E,{}),S.slice(0,5).map(d=>e.jsx(C,{onClick:()=>k(d),sx:{opacity:d.read?.5:1,color:"#fff","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:e.jsx(ne,{primary:d.title,secondary:d.message,sx:{"& .MuiTypography-root":{color:"#fff"}}})},d._id)),e.jsx(E,{}),e.jsx(C,{onClick:()=>P(`/${$}/notifications`),children:"Visualizza tutte le notifiche"})]})]}):e.jsx(Q,{variant:"contained",onClick:l,className:"bg-red-600 text-white",children:n.login}),e.jsx(ue,{countries:Object.values(T),customLabels:{GB:"English",DE:"Deutsch",FR:"Français",IT:"Italiano"},selected:T[c],onSelect:d=>o(Object.keys(T).find(N=>T[N]===d)),className:"text-gary-800  bg-white rounded-lg h-[43px]"})]}),["mobile","tablet","small-desktop"].includes(i.deviceType)&&e.jsxs("div",{className:"flex items-center space-x-6",children:[s&&e.jsxs("div",{className:" bg-white rounded-full ",children:[e.jsx(M,{color:"inherit",onClick:g,children:e.jsx(se,{badgeContent:m,color:"error",children:e.jsx(ae,{size:24,className:"text-red-600"})})}),e.jsxs(U,{anchorEl:b,open:!!b,onClose:p,PaperProps:{sx:{bgcolor:"#021e49",color:"#fff",width:400}},children:[e.jsx(ie,{variant:"h6",sx:{padding:"10px 16px",color:"#fff"},children:"Notifiche"}),e.jsx(E,{}),S.slice(0,5).map(d=>e.jsx(C,{onClick:()=>k(d),sx:{opacity:d.read?.5:1,color:"#fff","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:e.jsx(ne,{primary:d.title,secondary:d.message,sx:{"& .MuiTypography-root":{color:"#fff"}}})},d._id)),e.jsx(E,{}),e.jsx(C,{onClick:()=>P(`/${$}/notifications`),children:"Visualizza tutte le notifiche"})]})]}),e.jsx(M,{onClick:v,children:e.jsx(Pe,{size:24,className:a?t?"text-black":"text-white":"text-black"})})]})]})},et=({icons:t,isPathActive:a,handleLogin:s})=>e.jsx(Fe,{sx:{display:"flex",position:"fixed",bottom:0,width:"100%",height:"60px",bgcolor:"white",boxShadow:"0px -2px 8px rgba(0, 0, 0, 0.1)",justifyContent:"space-evenly",alignItems:"center",zIndex:50,borderTopLeftRadius:"10px",borderTopRightRadius:"10px",padding:"0px"},children:t.map(({icon:n,label:c,path:o,exact:l,onClick:f})=>e.jsx(Ie,{title:c,children:e.jsx(w.div,{whileHover:{scale:1.1},whileTap:{scale:1},initial:{y:0},animate:a(o,l)?{y:-15}:{y:0},transition:{type:"spring",stiffness:300},children:e.jsx(Le,{component:f?"button":J,to:f?void 0:o,onClick:f||null,sx:{width:60,height:60,bgcolor:a(o,l)?"#ff0707":"#f8f8f8","&:hover":{bgcolor:"#e60000",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)",borderRadius:"50%",border:"2px solid white",color:"white"},boxShadow:a(o,l)?"rgba(50, 50, 93, 0.25) 0px 30px 60px -12px inset, rgba(0, 0, 0, 0.3) 0px 18px 36px -18px inset":"0px 2px 5px rgba(0, 0, 0, 0.1)",borderRadius:"50%",border:"2px solid white"},children:Me.cloneElement(n,{size:30,color:a(o,l)?"white":"#555"})})})},c))}),tt=({sidebarOpen:t,toggleSidebar:a,translations:s,language:n,handleLanguageChange:c,isLoggedIn:o,handleLogin:l,navbar:f,isHome:m,isPathActive:v})=>{const i={hidden:{x:"-100%",opacity:0},visible:{x:0,opacity:1,transition:{type:"spring",stiffness:300,damping:30,staggerChildren:.1}},exit:{x:"-100%",opacity:0,transition:{duration:.4}}},g={hidden:{x:-50,opacity:0},visible:{x:0,opacity:1,transition:{duration:.5}}};return e.jsxs(w.div,{initial:"hidden",animate:"visible",exit:"exit",variants:i,className:"fixed top-0 left-0 w-64 h-full bg-white shadow-lg z-50",style:{borderTopRightRadius:"10px",borderBottomRightRadius:"10px",overflow:"hidden"},children:[e.jsxs(w.div,{className:"flex justify-between items-center p-4",variants:g,children:[e.jsx("h2",{className:"text-xl font-bold text-gray-700",children:"Menu"}),e.jsx(Ee,{onClick:a,size:24,className:"cursor-pointer text-gray-700 hover:text-red-600 transition duration-300"})]}),e.jsx(w.ul,{className:"p-4 space-y-4",children:["home","become_a_partner","vans","contact"].map(p=>e.jsx(w.li,{variants:g,children:e.jsx(le,{to:`/${n}/${p==="home"?"":p}`,className:()=>`block py-2 px-4 rounded-lg transition ${v(`/${n}/${p==="home"?"":p}`,p==="home")?"text-red-600 bg-red-50 border-b-2 py-2 px-4 rounded-lg border-orange-400":f||!m?"text-gray-800":"text-white"}`,onClick:a,children:s[p]})},p))}),!o&&e.jsx(w.div,{className:"p-4",variants:g,children:e.jsx(Q,{variant:"contained",color:"primary",className:"bg-red-600 text-white w-full",onClick:()=>{l(),a()},children:"Login"})}),e.jsx(w.div,{className:"p-4",variants:g,children:e.jsx(ue,{countries:Object.values(T),customLabels:{GB:"English",DE:"Deutsch",FR:"Français",IT:"Italiano"},selected:T[n],onSelect:p=>c(Object.keys(T).find(b=>T[b]===p)),className:"bg-white rounded-lg h-10"})})]})},xe="https://rubertogo.com",V=Be(xe,{withCredentials:!0}),re=new Audio("/mixkit-bell-notification-933.wav"),st=t=>{if(!t)return null;try{const s=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(s).split("").map(c=>"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(n)}catch(a){return console.error("Failed to parse JWT:",a.message),null}},at=({isHome:t})=>{const a=Ge(),{lang:s}=Y(),{language:n,translations:c,handleLanguageChange:o}=R(),{accessToken:l,logout:f}=Ve(),[m,v]=h.useState(!1),[i,g]=h.useState(!1),[p,b]=h.useState(!1),[S,D]=h.useState(0),r=he(),[j,y]=h.useState(null),k=G(),[W,$]=h.useState(null),[P,d]=h.useState([]),N=!!l,Z=()=>g(!i),F=()=>b(!0),pe=()=>f(),fe=()=>b(!1),O=localStorage.getItem("accessToken"),H=st(O),ge=async()=>{if(!(P.length>0))try{const u=await Re.get(`${xe}/api/notifications`,{headers:{Authorization:`Bearer ${l}`},withCredentials:!0});d(u.data),D(u.data.filter(z=>!z.read).length)}catch(u){console.error("Failed to fetch notifications",u)}},be=()=>{re.play().catch(u=>{document.body.addEventListener("click",()=>re.play().catch(console.error),{once:!0})})},ve=_e.throttle(ge,5e3);h.useEffect(()=>{if(!(!O||!H?.id))return V.emit("join",H.id),ve(),V.on("notification",u=>{d(z=>[u,...z]),D(z=>z+1),be()}),()=>{V.off("notification")}},[O,H?.id]);const je=u=>{X(),k(`/${s}/notification/${u._id}`)};h.useEffect(()=>{const u=()=>v(window.scrollY>=10);return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const q=(u,z=!1)=>z?r.pathname===u:r.pathname.startsWith(u),ye=u=>{u.preventDefault(),N?y(u.currentTarget):F()},we=u=>{u.preventDefault(),N?k(`/${n}/account`):F()},ke=[{icon:e.jsx(We,{}),label:"Home",path:`/${n}`,exact:!0},{icon:e.jsx(Oe,{}),label:"Vans",path:`/${n}/vans`},{icon:e.jsx(de,{}),label:N?"Account":"Login",path:`/${n}/account`,onClick:we}],Ne=u=>{$(u.currentTarget)},X=()=>{$(null)},K=()=>y(null),Te=u=>{k(u),K()};return e.jsxs(e.Fragment,{children:[e.jsx(w.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5,ease:"easeOut"},className:`fixed w-full top-0 z-50 transition-all duration-300 ${m||!t?"bg-white shadow-sm border-b border-gray-200":"bg-transparent"}`,children:e.jsx(Ke,{navbar:m,isHome:t,isLoggedIn:N,translations:c,language:n,handleLanguageChange:o,handleLogin:F,handleLogout:pe,unreadCount:S,toggleSidebar:Z,deviceType:a,handleNotificationOpen:Ne,handleDeskAccountClick:ye,handleNotificationClose:X,notificationAnchorEl:W,notifications:P,anchorEl:j,handleMenuClose:K,handleMenuSelect:Te,isPathActive:q,handleNotificationClick:je})}),e.jsx(Ye,{children:i&&e.jsx(tt,{sidebarOpen:i,toggleSidebar:Z,translations:c,language:n,isLoggedIn:N,handleLogin:F,handleLanguageChange:o,isPathActive:q})}),["mobile","tablet","small-desktop"].includes(a.deviceType)&&e.jsx(et,{icons:ke,isPathActive:q,handleLogin:F}),e.jsx(Qe,{open:p,handleClose:()=>b(!1),onSuccess:fe})]})},it=({handleWhatsAppClick:t})=>e.jsx(w.div,{className:"fixed sm:bottom-5 bottom-20 right-5 z-50 cursor-pointer",onClick:t,"aria-label":"WhatsApp Contact",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeInOut"},whileHover:{scale:1.1},whileTap:{scale:.95},children:e.jsx(He,{className:"text-white bg-green-500 p-2 rounded-full shadow-xl text-5xl",style:{boxShadow:"0 10px 20px rgba(0, 0, 0, 0.2), 0 6px 6px rgba(0, 0, 0, 0.1)"}})}),lt=({children:t})=>{const a=he(),[s,n]=h.useState(!1),[c,o]=h.useState(!1),{language:l,translations:f}=R(),{scrollY:m}=qe(),[v,i]=h.useState(!1),g=Ue(m,[0,300],[1,0]);h.useEffect(()=>{const b=[`/${l}/account`,`/${l}/account/`,`/${l}/account?page=currentbooking`,`/${l}/account?page=bookinghistory`];n(a.pathname===`/${l}/`||a.pathname===`/${l}`),i(b.includes(a.pathname)),window.scrollTo(0,0)},[a,l]);const p=()=>{window.open("https://api.whatsapp.com/message/T7GM7EHRY2XVC1?autoload=1&app_absent=0","_blank")};return e.jsxs(e.Fragment,{children:[e.jsx(at,{isHome:s}),s&&e.jsxs("div",{className:"sm:h-[800px] h-[800px] relative",children:[e.jsx("link",{rel:"preload",as:"image",href:"/hero2.webp",type:"image/webp"}),e.jsxs("section",{className:"relative flex items-center justify-center h-full bg-cover bg-center",style:{backgroundImage:c&&"url('/hero2.webp')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backdropFilter:"blur(10px)"},initial:{opacity:1},animate:{opacity:g},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#ff0707] to-[#ff0707] opacity-90",initial:{opacity:0},animate:{opacity:.9},transition:{duration:1}}),e.jsx("img",{src:"/hero2.webp",alt:"Hero Background",className:"hidden",loading:"lazy",onLoad:()=>o(!0)}),e.jsxs("div",{className:"relative z-50 flex flex-col items-center justify-center text-center px-4 space-y-2 shadow-sm max-h-full",children:[e.jsx("h1",{className:"text-2xl sm:text-6xl sm:mt-0 mt-8 font-extrabold text-white",style:{textShadow:"2px 4px 6px rgba(0, 0, 0, 0.5)"},initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.3},"aria-label":"Premium Van Booking Service",children:f.heroTitle}),e.jsx("p",{className:"text-lg md:text-xl text-white max-w-full p-5",style:{textShadow:"2px 4px 6px rgba(0, 0, 0, 0.5)"},initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.5},"aria-label":"Book your van now for a hassle-free trip",children:f.heroSubtitle}),e.jsx("div",{className:"bg-white z-50 rounded-lg shadow-xl p-4 sm:p-6 space-y-4 w-full max-w-4xl mx-auto overflow-hidden",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,delay:.7},"aria-label":"Booking Form",children:c?e.jsx(Je,{}):e.jsxs(e.Fragment,{children:[e.jsx(_,{variant:"text",width:"80%",height:50,className:"mb-4"}),e.jsx(_,{variant:"rectangular",height:200}),e.jsx(_,{variant:"text",width:"40%",height:50,className:"mb-2"}),e.jsx(_,{variant:"rectangular",height:50})]})})]}),e.jsx("div",{className:"absolute bottom-0 sm:bottom-16 w-full overflow-hidden",children:e.jsx(me,{})})]})]}),e.jsx("main",{className:`${s?"sm:-mt-16":"mt-16"} transition-all duration-300 ease-in-out`,children:t}),e.jsx(Ze,{}),e.jsx(it,{handleWhatsAppClick:p}),!v&&e.jsx(Xe,{})]})};export{lt as default};
