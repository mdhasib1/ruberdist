import{r as l,j as t,k as p}from"./index-DLpikvjc.js";import{h as d}from"./index-DHQm9bna.js";import{g as x}from"./index-CI_CW7u4.js";import{T as i}from"./index-CSmXdIie.js";import{D as h}from"./DataGrid-0EYBgjNF.js";import"./iconBase-VNWhYZQq.js";import"./index-BCUionA9.js";import"./ButtonBase-C_wHrl86.js";import"./Portal-C-Oqgn3D.js";import"./Select-YDvcYVIq.js";import"./Menu-BmUU4LJX.js";import"./Grow-BubuCfXA.js";import"./useSlot-C81N96pq.js";import"./useTheme-BiC74sbM.js";import"./useTheme-BaCcI6wb.js";import"./List-CP_tTsPm.js";import"./Paper-DzT7rg5Q.js";import"./Modal-CXdfSMMy.js";import"./useControlled-DAqY8FYl.js";import"./createSvgIcon-DAAY2Ss0.js";import"./index-CMMxByV_.js";import"./Close-B6mu1L3C.js";import"./Badge-VQgqQlIk.js";import"./Tooltip-Cxmz8oas.js";import"./Chip-CF_ffCUn.js";import"./IconButton-CQP4y5cZ.js";import"./ClickAwayListener-ChyV3r07.js";import"./MenuItem-Dk6ToQkn.js";import"./listItemTextClasses-c0_geO1e.js";import"./dividerClasses-CWGPkxTW.js";import"./Toolbar-4GwuCQeM.js";import"./ListItemText-BaK17cQI.js";import"./Typography-Bytm3ycu.js";import"./TextField-DxLbd0T7.js";import"./isMuiElement-Rh47zddv.js";import"./InputAdornment-Dr7QdbWB.js";import"./Button-Dd5SUgtW.js";import"./Divider-BZXxc7Ka.js";import"./FormControlLabel-BZ90GYya.js";import"./TableCell-Bsl3T8tX.js";import"./Skeleton-CuRxEDba.js";const u="https://rubertogo.com";function st(){const[e,n]=l.useState({totalBookings:0,todayBookingCount:0,thisMonthBookings:0,pendingBookings:0,completedBookings:0,canceledBookings:0,totalRevenue:0,availableVans:0,earningsHistory:[],availableBalance:0,totalPendingEarnings:0}),[r,c]=l.useState(!0);l.useEffect(()=>{(async()=>{try{c(!0);const a=await p.get(`${u}/api/getDashboardData`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});console.log("Dashboard data:",a.data),n(a.data||{})}catch(a){console.error("Error fetching dashboard data:",a)}finally{c(!1)}})()},[]);const m=[{field:"date",headerName:"Date",width:150},{field:"amount",headerName:"Amount (CHF)",width:150},{field:"description",headerName:"Description",width:200}],g=e.earningsHistory.map((s,a)=>({id:a+1,date:s.date,amount:s.amount.toFixed(2),description:s.description}));return r?t.jsx(j,{}):t.jsxs("div",{className:"min-h-screen container m-auto bg-gradient-to-r from-blue-50 to-blue-100 p-2 ",children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:t.jsxs("h1",{className:"text-2xl flex items-center gap-2 font-semibold text-gray-800",children:[t.jsx(x,{className:"text-red-300"})," Dashboard"]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsx(o,{title:"Available Balance",value:`CHF ${e.availableBalance.toFixed(2)}`,icon:t.jsx(d,{})}),t.jsx(o,{title:"Available Balance",value:`CHF ${e.totalPendingEarnings.toFixed(2)}`,icon:t.jsx(d,{})}),t.jsx(o,{title:"Total Bookings",value:e.totalBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Today's Bookings",value:e.todayBookingCount,icon:t.jsx(i,{})}),t.jsx(o,{title:"This Month's Bookings",value:e.thisMonthBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Pending Bookings",value:e.pendingBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Completed Bookings",value:e.completedBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Canceled Bookings",value:e.canceledBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Available Vans",value:e.availableVans,icon:t.jsx(i,{})}),t.jsx(o,{title:"Total Revenue",value:`$${e.totalRevenue}`,icon:t.jsx(d,{})})]}),t.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-8",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Earnings History"}),t.jsx("div",{style:{height:400,width:"100%"},children:t.jsx(h,{rows:g,columns:m,pageSize:5,rowsPerPageOptions:[5,10,15],checkboxSelection:!1,disableSelectionOnClick:!0})})]})]})}function o({title:e,value:n,icon:r}){return t.jsxs("div",{className:"flex items-center p-4 bg-white shadow rounded-lg",children:[t.jsx("div",{className:"p-4 bg-gray-200 text-2xl rounded-full",children:r}),t.jsxs("div",{className:"ml-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n})]})]})}function j(){return t.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-blue-50",children:t.jsx("p",{children:"Loading..."})})}export{st as default};
