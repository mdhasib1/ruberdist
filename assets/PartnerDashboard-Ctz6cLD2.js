import{r as l,j as t,d as p}from"./index-DrMvIKwq.js";import{h as d}from"./index-y5yuKkc0.js";import{g as x}from"./index-BcTYs67B.js";import{T as i}from"./index-Dji7bFPE.js";import{D as h}from"./DataGrid-odPpneuv.js";import"./iconBase-BBLIWj70.js";import"./createSimplePaletteValueFilter-zjTMkHT-.js";import"./index-COvJ5x3S.js";import"./CircularProgress-B5agUqRt.js";import"./Portal-BMjECl0g.js";import"./Select-DJdQC6kX.js";import"./Menu-ComLaOXz.js";import"./Grow-B1pBNw31.js";import"./useSlot-BWhg9WXJ.js";import"./useTheme-C3_UZ2QD.js";import"./useTheme-CepysXf6.js";import"./List-BLDT_Zsz.js";import"./Paper-C4BDKHkT.js";import"./Modal-CfkloFEy.js";import"./useControlled-Bio4-BJG.js";import"./createSvgIcon-CgYohZ5P.js";import"./index-pDPmJGlT.js";import"./Close-CZtWXSiP.js";import"./Badge-Dv4pCkXf.js";import"./Tooltip-BJxLh1tU.js";import"./Chip-BGAMkzyn.js";import"./IconButton-BGQYt6kH.js";import"./ClickAwayListener-CKDzE_Pj.js";import"./MenuItem-8srXigvG.js";import"./listItemTextClasses--ZWm_3O6.js";import"./dividerClasses-CP17GPn_.js";import"./Toolbar-IXigYXsH.js";import"./ListItemText-CPFOLNaz.js";import"./Typography-BAti9wpa.js";import"./TextField-DvirranI.js";import"./isMuiElement-LlRumiQy.js";import"./InputAdornment-qRqOoZAt.js";import"./Button-xUQB_oWD.js";import"./Divider-DKVgf2v9.js";import"./FormControlLabel-B2fud-Wt.js";import"./TableCell-Cv6TnrlD.js";import"./Skeleton-BNpbg8au.js";const u="https://rubertogo.com";function rt(){const[e,r]=l.useState({totalBookings:0,todayBookingCount:0,thisMonthBookings:0,pendingBookings:0,completedBookings:0,canceledBookings:0,totalRevenue:0,availableVans:0,earningsHistory:[],availableBalance:0,totalPendingEarnings:0}),[n,c]=l.useState(!0);l.useEffect(()=>{(async()=>{try{c(!0);const a=await p.get(`${u}/api/getDashboardData`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});console.log("Dashboard data:",a.data),r(a.data||{})}catch(a){console.error("Error fetching dashboard data:",a)}finally{c(!1)}})()},[]);const m=[{field:"date",headerName:"Date",width:150},{field:"amount",headerName:"Amount (CHF)",width:150},{field:"description",headerName:"Description",width:200}],g=e.earningsHistory.map((s,a)=>({id:a+1,date:s.date,amount:s.amount.toFixed(2),description:s.description}));return n?t.jsx(j,{}):t.jsxs("div",{className:"min-h-screen container m-auto bg-gradient-to-r from-blue-50 to-blue-100 p-2 ",children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:t.jsxs("h1",{className:"text-2xl flex items-center gap-2 font-semibold text-gray-800",children:[t.jsx(x,{className:"text-red-300"})," Dashboard"]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsx(o,{title:"Available Balance",value:`CHF ${e.availableBalance.toFixed(2)}`,icon:t.jsx(d,{})}),t.jsx(o,{title:"Available Balance",value:`CHF ${e.totalPendingEarnings.toFixed(2)}`,icon:t.jsx(d,{})}),t.jsx(o,{title:"Total Bookings",value:e.totalBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Today's Bookings",value:e.todayBookingCount,icon:t.jsx(i,{})}),t.jsx(o,{title:"This Month's Bookings",value:e.thisMonthBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Pending Bookings",value:e.pendingBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Completed Bookings",value:e.completedBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Canceled Bookings",value:e.canceledBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Available Vans",value:e.availableVans,icon:t.jsx(i,{})}),t.jsx(o,{title:"Total Revenue",value:`$${e.totalRevenue}`,icon:t.jsx(d,{})})]}),t.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-8",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Earnings History"}),t.jsx("div",{style:{height:400,width:"100%"},children:t.jsx(h,{rows:g,columns:m,pageSize:5,rowsPerPageOptions:[5,10,15],checkboxSelection:!1,disableSelectionOnClick:!0})})]})]})}function o({title:e,value:r,icon:n}){return t.jsxs("div",{className:"flex items-center p-4 bg-white shadow rounded-lg",children:[t.jsx("div",{className:"p-4 bg-gray-200 text-2xl rounded-full",children:n}),t.jsxs("div",{className:"ml-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r})]})]})}function j(){return t.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-blue-50",children:t.jsx("p",{children:"Loading..."})})}export{rt as default};
