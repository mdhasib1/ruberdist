import{r as n,j as e,cV as u,cW as y,cX as h,cY as g,cZ as S,c_ as v}from"./vendor-DuWeQkuf.js";import{u as V}from"./useVanStore-daomRJ1q.js";import{a as C}from"./index--ZbGcTd3.js";import{M as k}from"./Modal-j5pEaren.js";import"./Carousel-DIoJSduo.js";const M=n.memo(({src:r,alt:i})=>e.jsx(v.LazyLoadImage,{effect:"blur",loading:"lazy",src:r||"/placeholder.webp",alt:i||"Van Image",className:"w-full h-80 object-contain rounded-xl transition-all duration-300 ease-in-out"})),L=()=>{const{vans:r,loading:i,fetchVans:c}=V(),[l,d]=n.useState(0),[p,f]=n.useState(!1),[x,j]=n.useState(null),[A,b]=n.useState(null),{translations:a}=C(),m=n.useRef(null);n.useEffect(()=>{r.length||c()},[c,r.length]);const s=n.useMemo(()=>r.slice(0,6),[r]),w=n.useCallback(t=>{d(t.realIndex)},[]),N=t=>{d(t),m.current?.swiper.slideTo(t)};return e.jsxs("div",{className:"relative bg-gradient-to-r from-[#ff0707] to-[#ff0707] text-white py-16 min-h-screen flex-col items-center",children:[e.jsxs("div",{className:"text-center px-4",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-wide",children:a.fleetTitle}),e.jsx("p",{className:"text-lg text-gray-200 mt-4 max-w-2xl mx-auto",children:a.fleetSubtitle})]}),e.jsxs("div",{className:"mt-12 px-6 lg:px-20 max-w-screen-xl mx-auto",children:[i?e.jsx("p",{className:"text-center text-xl animate-pulse",children:"Loading vans..."}):s.length>0?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(u,{ref:m,modules:[y,h],autoplay:{delay:3500,disableOnInteraction:!1},loop:!0,className:"w-full text-white transition-all duration-300",onSlideChange:w,children:s.map((t,o)=>e.jsx(g,{children:e.jsx(M,{src:t.images?.[0],alt:t.name?.en})},t._id))})}),s[l]&&e.jsxs("div",{className:"flex flex-col border justify-center items-center lg:items-start text-center lg:text-left backdrop-blur-md rounded-xl p-6 transition-all duration-300",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:s[l]?.name?.en||"Unnamed Van"}),e.jsxs("ul",{className:"space-y-4 text-gray-200 text-lg",children:[e.jsxs("li",{children:[e.jsxs("strong",{children:[a.possition,":"]})," ",s[l]?.location?.address||"N/A"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[a.length,":"]})," ",s[l]?.externalDimensions?.length||"N/A"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[a.width,":"]})," ",s[l]?.externalDimensions?.width||"N/A"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[a.Height,":"]})," ",s[l]?.externalDimensions?.height||"N/A"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[a.weight," (",a.empty,"):"]})," ",s[l]?.weight?.empty||"N/A"]})]}),e.jsx("button",{className:"w-full mt-6 py-3 text-white bg-blue-600 rounded-lg font-semibold text-lg hover:bg-blue-700 transition-transform",onClick:()=>j(s[l]),children:a.bookNowButton})]})]}):e.jsx("p",{className:"text-center text-xl",children:"No vans available"}),e.jsx("div",{className:"sm:max-w-4xl w-full mx-auto sm:p-10 p-5",children:s.length>0&&e.jsx(u,{onSwiper:b,slidesPerView:3,spaceBetween:20,freeMode:!0,watchSlidesProgress:!0,modules:[h,S],className:"mt-6 w-full transition-all duration-300",children:s.map((t,o)=>e.jsx(g,{className:"cursor-pointer",children:e.jsx("div",{className:`p-2 border-2 flex flex-col justify-center items-center rounded-lg transition-transform ${o===l?"border-blue-300 scale-95 shadow-lg":"border-gray-300 hover:scale-105"}`,onClick:()=>N(o),children:e.jsx("img",{loading:"lazy",src:t?.images?.[0],alt:t.name?.en,className:"w-[120px] h-[80px] object-cover rounded-lg"})})},t._id))})})]}),x&&e.jsx(k,{isOpen:p,onClose:()=>f(!1),van:x})]})};export{L as default};
