import{r as l,j as t,d as p}from"./index-D-tacDo0.js";import{h as d}from"./index-DmdATi-9.js";import{g as x}from"./index-DbFvF38k.js";import{T as i}from"./index-DbQJrr9j.js";import{D as h}from"./DataGrid-Dh8Q6Dnq.js";import"./iconBase-CKp54I6L.js";import"./createSimplePaletteValueFilter-BA-5fWDN.js";import"./index-CRkjSq8j.js";import"./CircularProgress-C_nPCmSr.js";import"./Portal-BmHO-mBc.js";import"./Select-CdTeA48B.js";import"./Menu-D8FtULnJ.js";import"./Grow-BlXXg7GE.js";import"./useSlot-C4Jq41_r.js";import"./useTheme-DTUOtr2d.js";import"./useTheme-BPaKzVUX.js";import"./List-lkVPBD74.js";import"./Paper-D8__vy1H.js";import"./Modal-DeRbA6Cj.js";import"./useControlled-B5g-9vmA.js";import"./createSvgIcon-DSUh4BZ1.js";import"./index-DqaVpj0-.js";import"./Close-8o8Uc7-g.js";import"./Badge-CkqnVvtt.js";import"./Tooltip-C4edUKB3.js";import"./Chip-D4n6IchS.js";import"./IconButton-CfFcDGl4.js";import"./ClickAwayListener-BlbJm6_R.js";import"./MenuItem-U1gzko4K.js";import"./listItemTextClasses-BBLLOjiz.js";import"./dividerClasses-CdWFDhxV.js";import"./Toolbar-C-N-dtXX.js";import"./ListItemText-D6_Kdstx.js";import"./Typography-DA9Er3Yb.js";import"./TextField-Ben9hf97.js";import"./isMuiElement-7oANgUe6.js";import"./InputAdornment-CGw_sbT-.js";import"./Button-DcaeVkm4.js";import"./Divider-trYpSRXj.js";import"./FormControlLabel-KCTcs0Do.js";import"./TableCell-FOiKC1_H.js";import"./Skeleton-BSPYxJHX.js";const u="https://rubertogo.com";function rt(){const[e,r]=l.useState({totalBookings:0,todayBookingCount:0,thisMonthBookings:0,pendingBookings:0,completedBookings:0,canceledBookings:0,totalRevenue:0,availableVans:0,earningsHistory:[],availableBalance:0,totalPendingEarnings:0}),[n,c]=l.useState(!0);l.useEffect(()=>{(async()=>{try{c(!0);const a=await p.get(`${u}/api/getDashboardData`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});console.log("Dashboard data:",a.data),r(a.data||{})}catch(a){console.error("Error fetching dashboard data:",a)}finally{c(!1)}})()},[]);const m=[{field:"date",headerName:"Date",width:150},{field:"amount",headerName:"Amount (CHF)",width:150},{field:"description",headerName:"Description",width:200}],g=e.earningsHistory.map((s,a)=>({id:a+1,date:s.date,amount:s.amount.toFixed(2),description:s.description}));return n?t.jsx(j,{}):t.jsxs("div",{className:"min-h-screen container m-auto bg-gradient-to-r from-blue-50 to-blue-100 p-2 ",children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:t.jsxs("h1",{className:"text-2xl flex items-center gap-2 font-semibold text-gray-800",children:[t.jsx(x,{className:"text-red-300"})," Dashboard"]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsx(o,{title:"Available Balance",value:`CHF ${e.availableBalance.toFixed(2)}`,icon:t.jsx(d,{})}),t.jsx(o,{title:"Available Balance",value:`CHF ${e.totalPendingEarnings.toFixed(2)}`,icon:t.jsx(d,{})}),t.jsx(o,{title:"Total Bookings",value:e.totalBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Today's Bookings",value:e.todayBookingCount,icon:t.jsx(i,{})}),t.jsx(o,{title:"This Month's Bookings",value:e.thisMonthBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Pending Bookings",value:e.pendingBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Completed Bookings",value:e.completedBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Canceled Bookings",value:e.canceledBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Available Vans",value:e.availableVans,icon:t.jsx(i,{})}),t.jsx(o,{title:"Total Revenue",value:`$${e.totalRevenue}`,icon:t.jsx(d,{})})]}),t.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-8",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Earnings History"}),t.jsx("div",{style:{height:400,width:"100%"},children:t.jsx(h,{rows:g,columns:m,pageSize:5,rowsPerPageOptions:[5,10,15],checkboxSelection:!1,disableSelectionOnClick:!0})})]})]})}function o({title:e,value:r,icon:n}){return t.jsxs("div",{className:"flex items-center p-4 bg-white shadow rounded-lg",children:[t.jsx("div",{className:"p-4 bg-gray-200 text-2xl rounded-full",children:n}),t.jsxs("div",{className:"ml-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r})]})]})}function j(){return t.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-blue-50",children:t.jsx("p",{children:"Loading..."})})}export{rt as default};
