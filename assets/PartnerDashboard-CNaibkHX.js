import{r as e,j as a,bA as t,J as s,G as i,bZ as o,b as n}from"./vendor-Zgq9WbFI.js";function l(){const[l,r]=e.useState({totalBookings:0,todayBookingCount:0,thisMonthBookings:0,pendingBookings:0,completedBookings:0,canceledBookings:0,totalRevenue:0,availableVans:0,earningsHistory:[],availableBalance:0,totalPendingEarnings:0}),[g,x]=e.useState(!0);e.useEffect((()=>{(async()=>{try{x(!0);const e=await n.get("https://rubertogo.com/api/getDashboardData",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});console.log("Dashboard data:",e.data),r(e.data||{})}catch(e){console.error("Error fetching dashboard data:",e)}finally{x(!1)}})()}),[]);const h=l.earningsHistory.map(((e,a)=>({id:a+1,date:e.date,amount:e.amount.toFixed(2),description:e.description})));return g?a.jsx(c,{}):a.jsxs("div",{className:"min-h-screen container m-auto bg-gradient-to-r from-blue-50 to-blue-100 p-2 ",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("h1",{className:"text-2xl flex items-center gap-2 font-semibold text-gray-800",children:[a.jsx(t,{className:"text-red-300"})," Dashboard"]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsx(d,{title:"Available Balance",value:`CHF ${l.availableBalance.toFixed(2)}`,icon:a.jsx(s,{})}),a.jsx(d,{title:"Available Balance",value:`CHF ${l.totalPendingEarnings.toFixed(2)}`,icon:a.jsx(s,{})}),a.jsx(d,{title:"Total Bookings",value:l.totalBookings,icon:a.jsx(i,{})}),a.jsx(d,{title:"Today's Bookings",value:l.todayBookingCount,icon:a.jsx(i,{})}),a.jsx(d,{title:"This Month's Bookings",value:l.thisMonthBookings,icon:a.jsx(i,{})}),a.jsx(d,{title:"Pending Bookings",value:l.pendingBookings,icon:a.jsx(i,{})}),a.jsx(d,{title:"Completed Bookings",value:l.completedBookings,icon:a.jsx(i,{})}),a.jsx(d,{title:"Canceled Bookings",value:l.canceledBookings,icon:a.jsx(i,{})}),a.jsx(d,{title:"Available Vans",value:l.availableVans,icon:a.jsx(i,{})}),a.jsx(d,{title:"Total Revenue",value:`$${l.totalRevenue}`,icon:a.jsx(s,{})})]}),a.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Earnings History"}),a.jsx("div",{style:{height:400,width:"100%"},children:a.jsx(o,{rows:h,columns:[{field:"date",headerName:"Date",width:150},{field:"amount",headerName:"Amount (CHF)",width:150},{field:"description",headerName:"Description",width:200}],pageSize:5,rowsPerPageOptions:[5,10,15],checkboxSelection:!1,disableSelectionOnClick:!0})})]})]})}function d({title:e,value:t,icon:s}){return a.jsxs("div",{className:"flex items-center p-4 bg-white shadow rounded-lg",children:[a.jsx("div",{className:"p-4 bg-gray-200 text-2xl rounded-full",children:s}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:e}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:t})]})]})}function c(){return a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-blue-50",children:a.jsx("p",{children:"Loading..."})})}export{l as default};
