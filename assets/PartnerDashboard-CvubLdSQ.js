import{r as l,j as t,d as p}from"./index-B_XR-bXS.js";import{h as d}from"./index-DpxsO8Tb.js";import{g as x}from"./index-DKCGU2h-.js";import{T as i}from"./index-DKAZLuk5.js";import{D as h}from"./DataGrid-Ct_PFr1h.js";import"./iconBase-BOVTrjLU.js";import"./createSimplePaletteValueFilter-BqFbd0Em.js";import"./index-CFLSrtzH.js";import"./CircularProgress-CnUP9nIX.js";import"./Portal-DeAW2irb.js";import"./Select-CzenUNWX.js";import"./Menu-B2ZH_G3y.js";import"./Grow-Diug3Yir.js";import"./useSlot-CiWiNTR6.js";import"./useTheme-B7QzK74H.js";import"./useTheme-CokdzniT.js";import"./List-DlYRtUZN.js";import"./Paper-Dn5NJgTn.js";import"./Modal-Cde_47yd.js";import"./useControlled-C95e4nO2.js";import"./createSvgIcon-c53c8Spr.js";import"./index-xHaaV7qh.js";import"./Close-DVHmFJ28.js";import"./Badge-CMNcq3cf.js";import"./Tooltip-UHsXGHdB.js";import"./Chip-BGceHIn5.js";import"./IconButton-CRfIEONe.js";import"./ClickAwayListener-CAfaVHQX.js";import"./MenuItem-CEXwN4a1.js";import"./listItemTextClasses-BcaquZBc.js";import"./dividerClasses-CwV_91XF.js";import"./Toolbar-NKz1KbID.js";import"./ListItemText-BUoNRxXQ.js";import"./Typography-CuI5uYqX.js";import"./TextField-8lldrJnn.js";import"./isMuiElement-BsuoJcZr.js";import"./InputAdornment-BL0rk6jw.js";import"./Button-gI_ekC-0.js";import"./Divider-DFPo3cV6.js";import"./FormControlLabel-qgAvBeEs.js";import"./TableCell-B5lIhqZQ.js";import"./Skeleton-91_cUmTM.js";const u="https://rubertogo.com";function rt(){const[e,r]=l.useState({totalBookings:0,todayBookingCount:0,thisMonthBookings:0,pendingBookings:0,completedBookings:0,canceledBookings:0,totalRevenue:0,availableVans:0,earningsHistory:[],availableBalance:0,totalPendingEarnings:0}),[n,c]=l.useState(!0);l.useEffect(()=>{(async()=>{try{c(!0);const a=await p.get(`${u}/api/getDashboardData`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});console.log("Dashboard data:",a.data),r(a.data||{})}catch(a){console.error("Error fetching dashboard data:",a)}finally{c(!1)}})()},[]);const m=[{field:"date",headerName:"Date",width:150},{field:"amount",headerName:"Amount (CHF)",width:150},{field:"description",headerName:"Description",width:200}],g=e.earningsHistory.map((s,a)=>({id:a+1,date:s.date,amount:s.amount.toFixed(2),description:s.description}));return n?t.jsx(j,{}):t.jsxs("div",{className:"min-h-screen container m-auto bg-gradient-to-r from-blue-50 to-blue-100 p-2 ",children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:t.jsxs("h1",{className:"text-2xl flex items-center gap-2 font-semibold text-gray-800",children:[t.jsx(x,{className:"text-red-300"})," Dashboard"]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsx(o,{title:"Available Balance",value:`CHF ${e.availableBalance.toFixed(2)}`,icon:t.jsx(d,{})}),t.jsx(o,{title:"Available Balance",value:`CHF ${e.totalPendingEarnings.toFixed(2)}`,icon:t.jsx(d,{})}),t.jsx(o,{title:"Total Bookings",value:e.totalBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Today's Bookings",value:e.todayBookingCount,icon:t.jsx(i,{})}),t.jsx(o,{title:"This Month's Bookings",value:e.thisMonthBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Pending Bookings",value:e.pendingBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Completed Bookings",value:e.completedBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Canceled Bookings",value:e.canceledBookings,icon:t.jsx(i,{})}),t.jsx(o,{title:"Available Vans",value:e.availableVans,icon:t.jsx(i,{})}),t.jsx(o,{title:"Total Revenue",value:`$${e.totalRevenue}`,icon:t.jsx(d,{})})]}),t.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-8",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Earnings History"}),t.jsx("div",{style:{height:400,width:"100%"},children:t.jsx(h,{rows:g,columns:m,pageSize:5,rowsPerPageOptions:[5,10,15],checkboxSelection:!1,disableSelectionOnClick:!0})})]})]})}function o({title:e,value:r,icon:n}){return t.jsxs("div",{className:"flex items-center p-4 bg-white shadow rounded-lg",children:[t.jsx("div",{className:"p-4 bg-gray-200 text-2xl rounded-full",children:n}),t.jsxs("div",{className:"ml-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:e}),t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r})]})]})}function j(){return t.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-blue-50",children:t.jsx("p",{children:"Loading..."})})}export{rt as default};
