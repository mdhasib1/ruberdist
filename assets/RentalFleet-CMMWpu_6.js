import{r as a,a5 as M,j as e,cU as p,cV as D,cW as k,cX as f,cY as j,cZ as C,c_ as Y}from"./vendor-BXSwQO8Y.js";import{u as A}from"./useVanStore-rSbG7pR7.js";import{a as T}from"./index-D5DROGH3.js";import{M as I}from"./Modal-BWEeBvt2.js";import"./Carousel-DpWv2osR.js";const E=a.memo(({src:i,alt:o})=>e.jsx(Y.LazyLoadImage,{effect:"blur",loading:"lazy",src:i||"/placeholder.webp",alt:o||"Van Image",className:"w-full h-80 object-contain rounded-xl transition-all duration-300 ease-in-out"})),U=()=>{const{vans:i,loading:o,fetchVans:c}=A(),[l,d]=a.useState(0),[b,m]=a.useState(!1),[x,w]=a.useState(null),[N,S]=a.useState(null),{translations:n}=T(),u=a.useRef(null);a.useEffect(()=>{i.length===0&&c()},[c,i.length]);const s=a.useMemo(()=>i.slice(0,6),[i]),h=a.useCallback(t=>{const r=M().startOf("hour"),g=r.add(4,"hour");return{...t,name:t.name?.en||"Unnamed Van",description:t.description?.en||"No description available.",totalPrice:t.pricePerHour*4,startDate:r.format("YYYY-MM-DD"),endDate:g.format("YYYY-MM-DD"),startTime:r.format("h:mm A"),endTime:g.format("h:mm A")}},[]),y=a.useCallback(t=>{w(h(t)),m(!0)},[h]),v=t=>{const r=t.realIndex;d(r)},V=t=>{s.length>0&&(d(t),u.current?.swiper.slideToLoop(t))};return e.jsxs("div",{className:"relative bg-gradient-to-r from-[#ff0707] to-[#ff0707] text-white py-16 min-h-screen flex-col items-center",children:[e.jsxs("div",{className:"text-center px-4",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-wide",children:n.fleetTitle}),e.jsx("p",{className:"text-lg text-gray-200 mt-4 max-w-2xl mx-auto",children:n.fleetSubtitle})]}),e.jsxs("div",{className:"mt-12 px-6 lg:px-20 max-w-screen-xl mx-auto",children:[o?e.jsx("p",{className:"text-center text-xl animate-pulse",children:"Loading vans..."}):s.length>0?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(p,{ref:u,modules:[D,k,f],navigation:!0,pagination:{clickable:!0},loop:!0,thumbs:{swiper:N},className:"w-full text-white transition-all duration-300",onSlideChange:v,children:s.map(t=>e.jsx(j,{children:e.jsx(E,{src:t.images?.[0],alt:t.name?.en})},t._id))})}),s[l]&&e.jsxs("div",{className:"flex flex-col border justify-center items-center lg:items-start text-center lg:text-left backdrop-blur-md rounded-xl p-6 transition-all duration-300",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:s[l]?.name?.en||"Unnamed Van"}),e.jsxs("ul",{className:"space-y-4 text-gray-200 text-lg",children:[e.jsxs("li",{children:[e.jsxs("strong",{children:[n.possition,":"]})," ",s[l]?.location?.address||"N/A"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[n.length,":"]})," ",s[l]?.externalDimensions?.length||"N/A"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[n.width,":"]})," ",s[l]?.externalDimensions?.width||"N/A"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[n.Height,":"]})," ",s[l]?.externalDimensions?.height||"N/A"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[n.weight," (",n.empty,"):"]})," ",s[l]?.weight?.empty||"N/A"]})]}),e.jsx("button",{className:"w-full mt-6 py-3 text-white bg-blue-600 rounded-lg font-semibold text-lg hover:bg-blue-700 transition-transform",onClick:()=>y(s[l]),children:n.bookNowButton})]})]}):e.jsx("p",{className:"text-center text-xl",children:"No vans available"}),e.jsx("div",{className:"sm:max-w-4xl w-full mx-auto sm:p-10 p-5",children:s.length>0&&e.jsx(p,{onSwiper:S,slidesPerView:3,spaceBetween:20,freeMode:!0,watchSlidesProgress:!0,modules:[C,f],className:"mt-6 w-full transition-all duration-300",children:s.map((t,r)=>e.jsx(j,{className:"cursor-pointer",children:e.jsx("div",{className:`p-2 border-2 flex flex-col justify-center items-center rounded-lg transition-transform ${r===l?"border-blue-300 scale-95 shadow-lg":"border-gray-300 hover:scale-105"}`,onClick:()=>V(r),children:e.jsx("img",{loading:"lazy",src:t?.images?.[0],alt:t.name?.en,className:"w-[120px] h-[80px] object-cover rounded-lg"})})},t._id))})})]}),x&&e.jsx(I,{isOpen:b,onClose:()=>m(!1),van:x})]})};export{U as default};
