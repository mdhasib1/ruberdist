import{c2 as x,b as m,r as g,j as e,c$ as p,bX as r,d0 as h,d1 as u,d2 as f}from"./vendor-DuWeQkuf.js";import{a as v}from"./index--ZbGcTd3.js";const j="https://www.rubertogo.com",w=a=>({ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5})[a]||0,N=x(a=>({reviews:[],totalReviews:0,averageRating:0,loading:!1,error:null,fetchReviews:async()=>{a({loading:!0});try{const t=await m.get(`${j}/api/reviews?page=1&limit=10`);if(t.data.success){const n=t.data.reviews.map(l=>({...l,numericRating:w(l.starRating)})),i=t.data.rating;a({reviews:n,totalReviews:t.data.totalReviews,averageRating:parseFloat(i.toFixed(1)),loading:!1})}else a({error:"No reviews found.",loading:!1})}catch{a({error:"Error fetching reviews.",loading:!1})}}})),b=()=>{const{translations:a}=v(),{reviews:t,totalReviews:n,averageRating:i,fetchReviews:l,loading:o}=N();g.useEffect(()=>{t.length===0&&l()},[l,t.length]);const c={dots:!1,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,responsive:[{breakpoint:1024,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1}}]};return e.jsx("div",{className:"py-16 bg-gray-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-center text-gray-900 mb-8",children:a.testimonialTitle}),o?e.jsx("p",{className:"text-center text-xl",children:"Loading reviews..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsxs("p",{className:"text-3xl flex justify-center items-center gap-4 text-gray-600 mb-2",children:[e.jsx(p,{className:"text-pink-500 text-5xl"}),i,"/",n]}),e.jsx(r,{name:"average-rating",value:i,precision:.1,readOnly:!0,size:"large"})]}),e.jsx(h,{...c,children:t.map((s,d)=>e.jsx("div",{className:"px-3",children:e.jsxs("div",{className:"h-full bg-[#ff0707] shadow-lg rounded-lg p-8 relative flex flex-col justify-between hover:shadow-2xl transition-all duration-300",style:{minHeight:"400px"},children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx(u,{className:"text-white absolute top-0 left-0 text-6xl opacity-40"}),e.jsx(f,{className:"text-white absolute bottom-0 right-0 text-6xl opacity-40"})]}),e.jsx("div",{className:"relative z-50 flex-1 overflow-hidden",children:e.jsx("p",{className:"text-white italic text-lg leading-relaxed mt-12 line-clamp-6 transition-all duration-300",children:s.comment})}),e.jsxs("div",{className:"relative z-10 flex items-center mt-6",children:[e.jsx("img",{src:s.profile_photo_url||`https://ui-avatars.com/api/?name=${s.name?encodeURIComponent(s.displayName):"Anonymous"}&background=random`,alt:s.displayName||"Anonymous",className:"w-12 h-12 rounded-full object-cover shadow-lg mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold text-lg",children:s.displayName}),e.jsx("p",{className:"text-gray-300 text-sm",children:s.designation||"Customer"}),e.jsx(r,{name:"read-only",value:s.numericRating,readOnly:!0,precision:.5,className:"text-yellow-400 mt-1"})]})]})]})},d))})]})]})})};export{b as default};
