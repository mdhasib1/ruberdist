import{r as i,u as Ye,A as Ke,d as y,j as e,C as He,F as f}from"./index-DrMvIKwq.js";import{O as Ue,l as Je}from"./OTPModal-CM9bGNru.js";import{d as X}from"./dayjs.min-DY5UBfhE.js";import{l as Ze,L as Ge}from"./LoginModal-J6EKWWXd.js";import{u as j}from"./index-ZT8RtkrU.js";import{O as Z,P as m,Q as B,R as G,S as _}from"./index-y5yuKkc0.js";import{I as _e}from"./index-DklELUdR.js";import{T as Qe}from"./index-Dji7bFPE.js";import{M as Xe}from"./Modal-CLPT5pme.js";import{B as Q}from"./Button-xUQB_oWD.js";import{T as u,I as N}from"./TextField-DvirranI.js";import{I as h}from"./InputAdornment-qRqOoZAt.js";import{T as p}from"./Tooltip-BJxLh1tU.js";import{I as x}from"./IconButton-BGQYt6kH.js";import{F as E,C as S}from"./FormControlLabel-B2fud-Wt.js";import{T as D}from"./Typography-BAti9wpa.js";import{C as er}from"./Card-locYS_tZ.js";import{C as rr}from"./CardContent-CLprEiUl.js";import{C as sr}from"./CircularProgress-B5agUqRt.js";import"./index-BcTYs67B.js";import"./iconBase-BBLIWj70.js";import"./Modal-CfkloFEy.js";import"./createSimplePaletteValueFilter-zjTMkHT-.js";import"./Portal-BMjECl0g.js";import"./useSlot-BWhg9WXJ.js";import"./useTheme-C3_UZ2QD.js";import"./useTheme-CepysXf6.js";import"./Box-tqBBETVs.js";import"./index-pDPmJGlT.js";import"./index-COvJ5x3S.js";import"./index-Bc-nvAfN.js";import"./Carousel-FFuPDihC.js";import"./index-Rnf9BJUB.js";import"./Select-DJdQC6kX.js";import"./Menu-ComLaOXz.js";import"./Grow-B1pBNw31.js";import"./List-BLDT_Zsz.js";import"./Paper-C4BDKHkT.js";import"./useControlled-Bio4-BJG.js";import"./createSvgIcon-CgYohZ5P.js";import"./isMuiElement-LlRumiQy.js";const tr=Je("pk_live_51PwWTGDCK8rR2FJAZlmM7KPakXDO09KCBJRjUT5QRFNRRTvlctb9KG8D9bxZ38RRsG6np5RYrJmVG2AeP22KXq7P00rQKtFDnq"),w="https://rubertogo.com",ar=t=>{var k;const g=X().format("dddd"),b=(k=t.dailyPricing)==null?void 0:k.find(C=>C.day===g);return b!=null&&b.pricePerHour?`${b.pricePerHour} CHF / hour`:"Not available"},Xr=()=>{var H,U,J;const[t,g]=i.useState({firstName:"",lastName:"",address:"",email:"",phone:"",idDocumentFront:null,idDocumentBack:null,licenseFront:null,licenseBack:null,isNotDriver:!1,referralCode:"",timeZone:"",driverInfo:{driverFirstName:"",driverLastName:"",driverAddress:"",driverEmail:"",driverPhone:"",driverLicenseFront:null,driverLicenseBack:null,driverIdDocumentFront:null,driverIdDocumentBack:null}}),[b,k]=i.useState(!1),[C,R]=i.useState(""),[l,ee]=i.useState(null),[q,T]=i.useState(!1),{lang:re}=Ye(),[se,A]=i.useState(!1),[te,V]=i.useState(""),[ae,oe]=i.useState(""),ie=i.useRef([]),[ne,le]=i.useState(null),de=localStorage.getItem("accessToken"),[z,$]=i.useState(!1),[I,ce]=i.useState(null),{translations:a}=Ke(),[M,me]=i.useState(!1),[or,ue]=i.useState(null),[W,he]=i.useState(!1),[ir,nr]=i.useState(!1),[F,lr]=i.useState(null),[dr,cr]=i.useState(!1),[O,mr]=i.useState([]),[Y,pe]=i.useState(!1),K=r=>{ue(r)};i.useEffect(()=>{g(r=>({...r,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}))},[]);const xe=async r=>{try{(await y.post(`${w}/api/valid-referral-code`,{referralCode:r},{headers:{Authorization:`Bearer ${de}`}})).status===200&&f.success("Referral code is valid.")}catch(s){console.error("Error validating referral code:",s),f.error("Invalid referral code.")}},ge=r=>{const s=r.target.value;g(o=>({...o,referralCode:s})),xe(s)},ve=r=>{const s=X().startOf("hour"),o=s.add(4,"hour"),d=r.pricePerHour*4;ce({...r,name:r.name.en||"Unnamed Van",description:r.description.en||"No description available.",totalPrice:d,startDate:s.format("YYYY-MM-DD"),endDate:o.format("YYYY-MM-DD"),startTime:s.format("h:mm A"),endTime:o.format("h:mm A")}),$(!0)};i.useEffect(()=>{const r=localStorage.getItem("bookingData");r&&ee(JSON.parse(r))},[]);const L=r=>{const{name:s,value:o}=r.target;g(d=>({...d,[s]:o}))},fe=r=>{const s=r.target.value;g(o=>({...o,email:s})),je(s)},je=i.useCallback(Ze.debounce(async r=>{try{(await y.post(`${w}/api/exist-account`,{email:r})).status===201?T(!0):T(!1)}catch(s){console.error("Error checking account existence:",s)}},500),[]),P=r=>{const{name:s,value:o}=r.target;g(d=>({...d,driverInfo:{...d.driverInfo,[s]:o}}))},Ne=r=>{he(r.target.checked)},be=r=>{g(s=>({...s,isNotDriver:r.target.checked}))},Ie=async r=>{const s=new FormData;s.append("file",r);try{return(await y.post(`${w}/api/upload`,s,{headers:{"Content-Type":"multipart/form-data"}})).data.imageURL}catch(o){return console.error("Error uploading file:",o),f.error("Failed to upload file. Please try again."),null}},v=async(r,s,o=!1)=>{const d=r[0],n=await Ie(d);n&&g(o?c=>({...c,driverInfo:{...c.driverInfo,[s]:n}}):c=>({...c,[s]:n}))},{getRootProps:De,getInputProps:ke}=j({onDrop:r=>v(r,"idDocumentFront"),accept:"image/*"}),{getRootProps:Pe,getInputProps:ye}=j({onDrop:r=>v(r,"idDocumentBack"),accept:"image/*"}),{getRootProps:we,getInputProps:Ce}=j({onDrop:r=>v(r,"licenseFront"),accept:"image/*"}),{getRootProps:Fe,getInputProps:Le}=j({onDrop:r=>v(r,"licenseBack"),accept:"image/*"}),{getRootProps:Be,getInputProps:Se}=j({onDrop:r=>v(r,"driverIdDocumentFront",!0),accept:"image/*"}),{getRootProps:Re,getInputProps:Te}=j({onDrop:r=>v(r,"driverIdDocumentBack",!0),accept:"image/*"}),{getRootProps:Ae,getInputProps:Me}=j({onDrop:r=>v(r,"driverLicenseFront",!0),accept:"image/*"}),{getRootProps:Oe,getInputProps:Ee}=j({onDrop:r=>v(r,"driverLicenseBack",!0),accept:"image/*"}),qe=r=>{const s=new Date(r),o=String(s.getDate()).padStart(2,"0"),d=String(s.getMonth()+1).padStart(2,"0"),n=s.getFullYear();return`${o}/${d}/${n}`},Ve=async()=>{var o,d;k(!0),R("");const r=["firstName","lastName","email","phone"];for(let n of r)if(!t[n]){R(`Please fill out the ${n} field.`),f.error(`Please fill out the ${n} field.`),k(!1);return}const s={...t,selectedSlots:l.selectedSlots.map(n=>({...n,date:qe(n.date)})),totalPrice:l.totalPrice,vanId:l.vanDetails._id,driverInfo:JSON.stringify(t.driverInfo)};try{const{data:n}=await y.post(`${w}/api/create-booking`,s,{headers:{"Content-Type":"application/json"}});oe(n.email),A(!0),le(n.sessionId)}catch(n){console.error("Error during checkout:",n);const c=((d=(o=n.response)==null?void 0:o.data)==null?void 0:d.error)||"Failed to initiate payment. Please try again.";f.error(c),R(c)}finally{k(!1)}},ze=async r=>{try{const s=await y.post(`${w}/api/verify-otp`,{email:ae,otp:r}),{accessToken:o,refreshToken:d}=s.data;localStorage.setItem("accessToken",o),localStorage.setItem("refreshToken",d),f.success("OTP verified successfully!"),A(!1),V("");const n=await tr,{error:c}=await n.redirectToCheckout({sessionId:ne});c&&(console.error("Stripe Redirect Error:",c),f.error("Failed to redirect to payment. Please try again."))}catch(s){console.error("OTP Verification Failed:",s),f.error("Invalid or expired OTP.")}},$e=r=>{pe(r.target.checked)},We=()=>{var d;const r=l.totalPrice,s=O.reduce((n,c)=>n+c.price,0),o=Y?(d=l==null?void 0:l.vanDetails)==null?void 0:d.unlimitedKilometersPrice:0;return r+s+o};return e.jsxs(He.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},className:"bg-white min-h-screen",children:[e.jsxs("div",{className:"container mx-auto py-10 px-4 sm:px-6 lg:px-8",children:[C&&e.jsx("div",{className:"flex justify-center mt-4",children:e.jsxs("p",{className:"flex flex-col sm:flex-row items-center px-4 py-2 bg-red-100 border border-red-400 text-red-600 rounded-lg font-semibold",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mb-2 sm:mb-0 sm:mr-2 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636L5.636 18.364M5.636 5.636l12.728 12.728"})}),e.jsx("span",{className:"text-center sm:text-left",children:C}),l&&e.jsx(Q,{sx:{marginTop:{xs:"1rem",sm:"0"},marginLeft:{sm:"1rem"}},variant:"outlined",color:"primary",onClick:()=>ve(l.vanDetails),children:"Select New Time"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[e.jsx("div",{className:"col-span-2",children:e.jsxs("form",{className:"space-y-6 p-5 bg-gray-50 shadow-md rounded-lg",children:[e.jsx(u,{label:e.jsxs("div",{className:"flex items-center",children:[a.checkoutemail,e.jsx(p,{title:"Email is required for booking confirmation",children:e.jsx(x,{size:"small",className:"ml-1",children:e.jsx(m,{})})})]}),placeholder:a.checkoutemail,name:"email",type:"email",fullWidth:!0,variant:"outlined",value:t.email,onChange:fe,required:!0,InputProps:{startAdornment:e.jsx(h,{position:"start",children:e.jsx(Z,{className:"text-gray-500"})})},className:"transition duration-300 focus-within:shadow-md rounded-lg"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(u,{label:e.jsxs("div",{className:"flex items-center",children:[a.checkoutFirstName,e.jsx(p,{title:"First name is required for booking confirmation",children:e.jsx(x,{size:"small",className:"ml-1",children:e.jsx(m,{})})})]}),placeholder:a.checkoutFirstName,name:"firstName",fullWidth:!0,variant:"outlined",value:t.firstName,onChange:L,required:!0,InputProps:{startAdornment:e.jsx(h,{position:"start",children:e.jsx(B,{className:"text-gray-500"})})},className:"transition duration-300 focus-within:shadow-md rounded-lg"}),e.jsx(u,{label:e.jsxs("div",{className:"flex items-center",children:[a.checkoutLastName,e.jsx(p,{title:"Last name is required for booking confirmation",children:e.jsx(x,{size:"small",className:"ml-1",children:e.jsx(m,{})})})]}),placeholder:a.checkoutLastName,name:"lastName",fullWidth:!0,variant:"outlined",value:t.lastName,onChange:L,required:!0,InputProps:{startAdornment:e.jsx(h,{position:"start",children:e.jsx(B,{className:"text-gray-500"})})},className:"transition duration-300 focus-within:shadow-md rounded-lg"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:e.jsx(u,{label:e.jsxs("div",{className:"flex items-center",children:[a.checkoutAddress,e.jsx(p,{title:"Address is required for booking confirmation",children:e.jsx(x,{size:"small",className:"ml-1",children:e.jsx(m,{})})})]}),placeholder:a.checkoutAddress,name:"address",fullWidth:!0,variant:"outlined",value:t.address,onChange:L,required:!0,InputProps:{startAdornment:e.jsx(h,{position:"start",children:e.jsx(G,{className:"text-gray-500"})})},className:"transition duration-300 focus-within:shadow-md rounded-lg"})}),e.jsx(u,{label:e.jsxs("div",{className:"flex items-center",children:[a.checkoutphone,e.jsx(p,{title:"Phone number is required for booking confirmation",children:e.jsx(x,{size:"small",className:"ml-1",children:e.jsx(m,{})})})]}),placeholder:a.checkoutphone,name:"phone",fullWidth:!0,variant:"outlined",value:t.phone,onChange:L,required:!0,InputProps:{startAdornment:e.jsx(h,{position:"start",children:e.jsx(_,{className:"text-gray-500"})})},className:"transition duration-300 focus-within:shadow-md rounded-lg"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs(N,{children:[a.checkoutIdFront,e.jsx(p,{title:"You must provide a valid ID document",children:e.jsx(x,{size:"small",className:"ml-1",children:e.jsx(m,{})})})]}),e.jsxs("div",{...De(),className:"p-4 border-dashed border-2 border-gray-300 mt-2 rounded-lg hover:shadow-lg transition-all",children:[e.jsx("input",{...ke()}),t.idDocumentFront?e.jsx("img",{src:t.idDocumentFront,alt:"ID Front Preview",className:"w-full h-40 object-cover mt-2 rounded-md"}):e.jsx("p",{className:"text-gray-500",children:a.draganddrop})]})]}),e.jsxs("div",{children:[e.jsxs(N,{children:[a.checkoutIdBack,e.jsx(p,{title:"You must provide a valid ID document",children:e.jsx(x,{size:"small",className:"ml-1",children:e.jsx(m,{})})})]}),e.jsxs("div",{...Pe(),className:"p-4 border-dashed border-2 border-gray-300 mt-2 rounded-lg hover:shadow-lg transition-all",children:[e.jsx("input",{...ye()}),t.idDocumentBack?e.jsx("img",{src:t.idDocumentBack,alt:"ID Back Preview",className:"w-full h-40 object-cover mt-2 rounded-md"}):e.jsx("p",{className:"text-gray-500",children:a.draganddrop})]})]})]}),!t.isNotDriver&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs(N,{children:[a.checkoutLicenseFront,e.jsx(p,{title:"You must provide a valid driver license",children:e.jsx(x,{size:"small",className:"ml-1",children:e.jsx(m,{})})})]}),e.jsxs("div",{...we(),className:"p-4 border-dashed border-2 border-gray-300 mt-2 rounded-lg hover:shadow-lg transition-all",children:[e.jsx("input",{...Ce()}),t.licenseFront?e.jsx("img",{src:t.licenseFront,alt:"Driver License Front Preview",className:"w-full h-40 object-cover mt-2 rounded-md"}):e.jsx("p",{className:"text-gray-500",children:a.draganddrop})]})]}),e.jsxs("div",{children:[e.jsxs(N,{children:[a.checkoutLicenseBack,e.jsx(p,{title:"You must provide a valid driver license",children:e.jsx(x,{size:"small",className:"ml-1",children:e.jsx(m,{})})})]}),e.jsxs("div",{...Fe(),className:"p-4 border-dashed border-2 border-gray-300 mt-2 rounded-lg hover:shadow-lg transition-all",children:[e.jsx("input",{...Le()}),t.licenseBack?e.jsx("img",{src:t.licenseBack,alt:"Driver License Back Preview",className:"w-full h-40 object-cover mt-2 rounded-md"}):e.jsx("p",{className:"text-gray-500",children:a.draganddrop})]})]})]})}),e.jsx(E,{control:e.jsx(S,{checked:t.isNotDriver,onChange:be,name:"isNotDriver",color:"primary"}),label:e.jsxs("div",{className:"flex items-center",children:[a.checkoutImnotdriver,e.jsx(p,{title:"Check this box if you are not the driver",children:e.jsx(x,{size:"small",className:"ml-1",children:e.jsx(m,{})})})]})}),e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(E,{control:e.jsx(S,{checked:W,onChange:Ne,color:"primary"}),label:e.jsxs("div",{className:"flex items-center",children:["Apply Referral Code",e.jsx(p,{title:"Enter a valid referral code to get a discount",children:e.jsx(x,{size:"small",className:"ml-1",children:e.jsx(m,{})})})]})}),W&&e.jsx(u,{label:"Referral Code",name:"referralCode",variant:"outlined",fullWidth:!0,value:t.referralCode,onChange:ge,InputProps:{startAdornment:e.jsx(h,{position:"start",children:e.jsx(_e,{className:"text-gray-500"})})},className:`transition duration-300 focus-within:shadow-md rounded-lg ${F===!0?"border-green-500":F===!1?"border-red-500":""}`,helperText:F===!0?"Referral code is valid!":F===!1?"Invalid referral code":""})]}),t.isNotDriver&&e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"h6",className:"font-bold mt-6",children:a.checkoutDriverInformationHeading}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(u,{label:a.checkoutDriverFirstName,name:"driverFirstName",fullWidth:!0,variant:"outlined",value:t.driverInfo.driverFirstName,onChange:P,required:!0,InputProps:{startAdornment:e.jsx(h,{position:"start",children:e.jsx(B,{className:"text-gray-500"})})},className:"transition duration-300 focus-within:shadow-md rounded-lg"}),e.jsx(u,{label:a.checkoutDriverLastName,name:"driverLastName",fullWidth:!0,variant:"outlined",value:t.driverInfo.driverLastName,onChange:P,required:!0,InputProps:{startAdornment:e.jsx(h,{position:"start",children:e.jsx(B,{className:"text-gray-500"})})},className:"transition duration-300 focus-within:shadow-md rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(u,{label:a.checkoutDriverAddress,name:"driverAddress",fullWidth:!0,variant:"outlined",value:t.driverInfo.driverAddress,onChange:P,required:!0,InputProps:{startAdornment:e.jsx(h,{position:"start",children:e.jsx(G,{className:"text-gray-500"})})},className:"transition duration-300 focus-within:shadow-md rounded-lg"}),e.jsx(u,{label:a.checkoutDriverEmail,name:"driverEmail",type:"email",fullWidth:!0,variant:"outlined",value:t.driverInfo.driverEmail,onChange:P,required:!0,InputProps:{startAdornment:e.jsx(h,{position:"start",children:e.jsx(Z,{className:"text-gray-500"})})},className:"transition duration-300 focus-within:shadow-md rounded-lg"})]}),e.jsx(u,{label:a.checkoutDriverPhone,name:"driverPhone",fullWidth:!0,variant:"outlined",value:t.driverInfo.driverPhone,onChange:P,required:!0,InputProps:{startAdornment:e.jsx(h,{position:"start",children:e.jsx(_,{className:"text-gray-500"})})},className:"transition duration-300 focus-within:shadow-md rounded-lg"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(N,{children:a.checkoutDriverIdFront}),e.jsxs("div",{...Ae(),className:"p-4 border-dashed border-2 border-gray-300 mt-2 rounded-lg hover:shadow-lg transition-all",children:[e.jsx("input",{...Me()}),t.driverInfo.driverLicenseFront?e.jsx("img",{src:t.driverInfo.driverLicenseFront,alt:"Driver License Front Preview",className:"w-full h-40 object-cover mt-2 rounded-md"}):e.jsx("p",{className:"text-gray-500",children:a.draganddrop})]})]}),e.jsxs("div",{children:[e.jsxs(N,{children:[" ",a.checkoutDriverIdBack," "]}),e.jsxs("div",{...Oe(),className:"p-4 border-dashed border-2 border-gray-300 mt-2 rounded-lg hover:shadow-lg transition-all",children:[e.jsx("input",{...Ee()}),t.driverInfo.driverLicenseBack?e.jsx("img",{src:t.driverInfo.driverLicenseBack,alt:"Driver License Back Preview",className:"w-full h-40 object-cover mt-2 rounded-md"}):e.jsx("p",{className:"text-gray-500",children:a.draganddrop})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs(N,{children:[" ",a.checkoutDriverLicenseFront," "]}),e.jsxs("div",{...Be(),className:"p-4 border-dashed border-2 border-gray-300 mt-2 rounded-lg hover:shadow-lg transition-all",children:[e.jsx("input",{...Se()}),t.driverInfo.driverIdDocumentFront?e.jsx("img",{src:t.driverInfo.driverIdDocumentFront,alt:"Driver ID Front Preview",className:"w-full h-40 object-cover mt-2 rounded-md"}):e.jsx("p",{className:"text-gray-500",children:a.draganddrop})]})]}),e.jsxs("div",{children:[e.jsxs(N,{children:[" ",a.checkoutDriverLicenseBack," "]}),e.jsxs("div",{...Re(),className:"p-4 border-dashed border-2 border-gray-300 mt-2 rounded-lg hover:shadow-lg transition-all",children:[e.jsx("input",{...Te()}),t.driverInfo.driverIdDocumentBack?e.jsx("img",{src:t.driverInfo.driverIdDocumentBack,alt:"Driver ID Back Preview",className:"w-full h-40 object-cover mt-2 rounded-md"}):e.jsx("p",{className:"text-gray-500",children:a.draganddrop})]})]})]})]})]})}),e.jsx("div",{className:"sm:col-span-1 col-span-2",children:e.jsx("div",{className:"bg-gradient-to-br from-[#1e3c72] to-[#f83920] p-1 rounded-2xl ",children:e.jsxs(er,{className:"p-6 h-full bg-white rounded-xl shadow-lg",children:[e.jsxs(rr,{className:"flex flex-col items-center space-y-10",children:[l&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col items-center gap-6 p-6 bg-gradient-to-r from-white via-gray-100 to-gray-50   hover:shadow-lg transition-shadow duration-300",children:[e.jsx("img",{src:l.vanDetails.images[0],alt:"Van",className:"w-56 h-32 rounded-lg object-cover shadow-lg border-4 border-gray-100"}),e.jsxs("div",{className:"text-center",children:[e.jsx(D,{variant:"h6",className:"font-extrabold text-gray-800 text-xl tracking-wide",children:((H=l.vanDetails)==null?void 0:H.name[re])||((U=l.vanDetails)==null?void 0:U.name.en)}),e.jsxs(D,{variant:"body1",className:"text-gray-600 text-base mt-3",children:[e.jsx("span",{className:"font-semibold text-gray-800",children:"Total Hours:"})," ",l.selectedSlots.length]}),e.jsxs(D,{variant:"body1",className:"text-gray-600 text-base mt-2",children:[e.jsxs("span",{className:"font-semibold text-gray-800",children:[a.priceLabel,":"]})," ",ar(l.vanDetails)]})]}),e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs(D,{variant:"h5",className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-green-400 mt-6",children:["Total: ",l.totalPrice," CHF"]})})]})}),e.jsx(E,{control:e.jsx(S,{checked:Y,onChange:$e,color:"primary"}),label:`Unlimited Kilometer Ride ${(J=l==null?void 0:l.vanDetails)==null?void 0:J.unlimitedKilometersPrice} CHF`}),O.length>0&&e.jsxs("div",{className:"mt-6 bg-gray-100 p-4 rounded-md",children:[e.jsx(D,{variant:"h6",className:"mb-2",children:"Selected Additional Products"}),O.map(r=>e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"body1",children:r.name},r._id),e.jsxs("h1",{className:"text-xl font-extrabold",children:["Price: ",r.price," CHF"]})]}))]}),e.jsxs("div",{className:"mt-4 flex items-start space-x-4",children:[e.jsx(S,{id:"termsCheckbox",className:"w-6 h-6 rounded-lg focus:ring-blue-500 shadow-md transition-all duration-300 hover:scale-110",onChange:r=>me(r.target.checked)}),e.jsxs("label",{htmlFor:"termsCheckbox",className:"text-sm text-gray-700 leading-relaxed",children:["I agree to the"," ",e.jsx("span",{onClick:()=>K("terms"),className:"text-blue-600 underline hover:text-blue-800 cursor-pointer font-semibold",children:"Terms and Conditions"})," ","and"," ",e.jsx("span",{onClick:()=>K("privacy"),className:"text-blue-600 underline hover:text-blue-800 cursor-pointer font-semibold",children:"Privacy Policy"})]})]}),e.jsxs("div",{className:"mt-6 flex items-center space-x-4 bg-gradient-to-r from-gray-100 to-gray-200 p-5 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsx("div",{className:"text-blue-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-7 h-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11c1.104 0 2-.896 2-2m-2 2v1m0-5c-1.104 0-2 .896-2 2m2-2h.01M12 4a4 4 0 014 4v1h2a1 1 0 011 1v10a1 1 0 01-1 1H7a1 1 0 01-1-1V10a1 1 0 011-1h2V8a4 4 0 014-4z"})})}),e.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:a.sslmessage})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(Q,{variant:"contained",startIcon:e.jsx(Qe,{}),onClick:Ve,disabled:!M||b,className:`w-full py-4 rounded-xl text-lg font-bold shadow-xl transition-transform ${M?"hover:scale-105 bg-gradient-to-r from-orange-500 to-orange-600":"cursor-not-allowed bg-gray-300"}`,style:{color:M?"#fff":"#aaa"},children:[l&&We()," CHF",b?e.jsx(sr,{size:24,color:"inherit"}):" Pay Now"]})})]})})})]})]}),q&&e.jsx(Ge,{open:q,handleClose:()=>T(!1),email:t.email}),e.jsx(Ue,{open:se,handleClose:()=>A(!1),otp:te,setOtp:V,onVerify:ze,otpRefs:ie,otpLength:4}),z&&I&&e.jsx(Xe,{isOpen:z,onClose:()=>$(!1),van:I,totalPrice:I.totalPrice,startDate:I.startDate,endDate:I.endDate,startTime:I.startTime,endTime:I.endTime})]})};export{Xr as default};
