import{r as e,cA as r,j as t,g as n,f as l,aE as a,a2 as o,d0 as s,c6 as i,bp as d,bE as c,k as u,ap as m}from"./vendor-Zgq9WbFI.js";import{u as x,V as h}from"./VanCard-Bj1DNDGV.js";import{a as f}from"./index-D29cp_SG.js";import{M as v}from"./Modal-D1aNLYnG.js";import"./Carousel-D7BsNlAJ.js";const p=()=>{const{vans:p,loading:j,fetchVans:g}=x(),[b,C]=e.useState(""),[w,y]=e.useState(null),{translations:k}=f();r();const[M,V]=e.useState([]),[N,O]=e.useState([]);e.useEffect((()=>{0===p.length&&g()}),[]);const F=e.useMemo((()=>p.filter((e=>{var r;if(M.length>0&&!M.includes(e.sizeCategory))return!1;if(N.length>0){if(!N.every((r=>{var t,n;return"keylessEntry"===r?"fleet2track"===(null==(t=e.trackingDevice)?void 0:t.type):null==(n=e.optionalFeatures)?void 0:n[r]})))return!1}return!(b&&!e.name.en.toLowerCase().includes(b.toLowerCase())&&!(null==(r=e.companyName)?void 0:r.toLowerCase().includes(b.toLowerCase())))})).slice(0,6)),[p,M,N,b]),I=e=>{var r,t;y({...e,name:(null==(r=e.name)?void 0:r.en)||"Unnamed Van",description:(null==(t=e.description)?void 0:t.en)||"No description available."})};return t.jsxs("div",{className:"max-w-full mx-auto space-y-8 bg-white",children:[t.jsxs("div",{className:"relative h-[400px] bg-cover bg-center flex flex-col gap-4 items-center justify-center",style:{backgroundImage:"url('/hero.webp')"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#ff0707] to-[#ff0707] opacity-90"}),t.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[t.jsx("h1",{className:"text-5xl font-extrabold",children:k.vansTitle}),t.jsx(n,{variant:"body1",className:"text-lg mt-2 max-w-2xl mx-auto",children:k.vansSubtitle})]}),t.jsx(l,{className:"sm:w-1/2 container mx-auto px-6 py-6 text-white z-50",children:t.jsxs(a,{container:!0,spacing:2,justifyContent:"center",children:[t.jsx(a,{item:!0,xs:12,sm:6,md:4,children:t.jsx(o,{placeholder:k.VanFilerform.searchPlaceholder,fullWidth:!0,variant:"outlined",value:b,onChange:e=>C(e.target.value),InputProps:{startAdornment:t.jsx(s,{className:"text-gray-600 mr-2"})},InputLabelProps:{style:{color:"white"}},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"white"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"white"}},backgroundColor:"white",borderRadius:"5px"}})}),t.jsx(a,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(i,{fullWidth:!0,variant:"outlined",children:[t.jsx(d,{sx:{color:"#333"},children:k.VanFilerform.allSizes}),t.jsxs(c,{multiple:!0,value:M,onChange:e=>V(e.target.value),renderValue:e=>e.join(", "),sx:{color:"#333","& .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiSvgIcon-root":{color:"#333"},backgroundColor:"white"},MenuProps:{PaperProps:{sx:{backgroundColor:"#fff",color:"#333"}}},children:[t.jsx(u,{value:"Small",children:k.VanFilerform.small}),t.jsx(u,{value:"Medium",children:k.VanFilerform.medium}),t.jsx(u,{value:"Large",children:k.VanFilerform.large})]})]})}),t.jsx(a,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(i,{fullWidth:!0,variant:"outlined",children:[t.jsx(d,{sx:{color:"#333"},children:k.VanFilerform.allFeatures}),t.jsxs(c,{multiple:!0,value:N,onChange:e=>O(e.target.value),renderValue:e=>e.join(", "),sx:{color:"#333","& .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiSvgIcon-root":{color:"#333"},backgroundColor:"white"},MenuProps:{PaperProps:{sx:{backgroundColor:"#fff",color:"#333"}}},children:[t.jsx(u,{value:"roofRack",children:k.VanFilerform.roofRack}),t.jsx(u,{value:"airConditioning",children:k.VanFilerform.airConditioning}),t.jsx(u,{value:"towingHook",children:k.VanFilerform.towingHook}),t.jsx(u,{value:"parkingSensors",children:k.VanFilerform.parkingSensors}),t.jsx(u,{value:"keylessEntry",children:k.VanFilerform.keylessEntry})]})]})})]})})]}),t.jsxs("div",{className:"container m-auto pb-10 p-5",children:[t.jsx(a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:j?[...Array(6)].map(((e,r)=>t.jsxs(a,{item:!0,xs:12,sm:6,md:4,children:[t.jsx(m,{variant:"rectangular",height:250,className:"rounded-xl"}),t.jsx(m,{variant:"text",className:"mt-2 w-3/4"}),t.jsx(m,{variant:"text",className:"w-1/2"})]},r))):F.length>0?F.map((e=>t.jsx(a,{item:!0,xs:12,sm:6,md:4,children:t.jsx(h,{van:e,onSelect:I})},e._id))):t.jsx(n,{className:"text-center text-xl mt-6",children:"No vans available"})}),w&&t.jsx(v,{isOpen:!!w,onClose:()=>y(null),van:w})]})]})};export{p as default};
