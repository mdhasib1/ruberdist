import{r as e,b as s,j as a,f as n,g as t,a4 as r,aQ as i,aR as l,cl as o,bf as d,a2 as c}from"./vendor-Zgq9WbFI.js";const h="https://rubertogo.com",x=()=>{const[x,p]=e.useState([]),[m,j]=e.useState({question:{en:"",it:"",de:"",fr:""},answer:{en:"",it:"",de:"",fr:""}}),[f,u]=e.useState(!1),[b,g]=e.useState(!1);e.useEffect((()=>{y()}),[]);const y=async()=>{try{const e=await s.get(`${h}/api/faqs`);p(e.data.data)}catch(e){console.error("Error fetching FAQs:",e)}},w=async e=>{u(!0);try{await s.delete(`${h}/api/faqs/${e}`),p(x.filter((s=>s._id!==e)))}catch(a){console.error("Error deleting FAQ:",a)}finally{u(!1)}};return a.jsxs(n,{sx:{p:3,bgcolor:"background.default",minHeight:"100vh"},children:[a.jsxs(n,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[a.jsx(t,{variant:"h4",fontWeight:"bold",children:"FAQ Section"}),a.jsx(r,{variant:"contained",color:"primary",onClick:()=>g(!0),children:"Add New FAQ"})]}),a.jsx(n,{sx:{display:{xs:"block",sm:"none"}},children:x.map((e=>a.jsxs(i,{sx:{mb:2},children:[a.jsxs(l,{children:[a.jsx(t,{variant:"h6",fontWeight:"bold",children:e.question.en}),a.jsx(t,{variant:"body1",color:"text.secondary",mt:1,children:e.answer.en})]}),a.jsx(o,{children:a.jsx(r,{variant:"contained",color:"error",onClick:()=>w(e._id),children:"Delete"})})]},e._id)))}),a.jsx(n,{sx:{display:{xs:"none",sm:"block"},overflowX:"auto"},children:a.jsxs("table",{className:"min-w-full bg-white rounded-lg shadow-md",children:[a.jsx("thead",{className:"bg-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-2 px-4 text-left",children:"Question (EN)"}),a.jsx("th",{className:"py-2 px-4 text-left",children:"Answer (EN)"}),a.jsx("th",{className:"py-2 px-4 text-center",children:"Actions"})]})}),a.jsx("tbody",{children:x.map((e=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"py-2 px-4",children:e.question.en}),a.jsx("td",{className:"py-2 px-4",children:e.answer.en}),a.jsx("td",{className:"py-2 px-4 text-center",children:a.jsx(r,{variant:"contained",color:"error",onClick:()=>w(e._id),children:"Delete"})})]},e._id)))})]})}),a.jsx(d,{open:b,onClose:()=>g(!1),children:a.jsxs(n,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",borderRadius:2,width:{xs:"90%",sm:"75%",md:"50%"},boxShadow:24,height:{xs:"90vh",sm:"85vh",md:"70vh"},overflowY:"auto",p:4},children:[a.jsx(t,{variant:"h6",component:"h2",mb:2,children:"Add New FAQ"}),["en","it","de","fr"].map((e=>a.jsxs("div",{className:"mb-4",children:[a.jsx(c,{label:`Question (${e.toUpperCase()})`,value:m.question[e],onChange:s=>j({...m,question:{...m.question,[e]:s.target.value}}),fullWidth:!0,margin:"normal"}),a.jsx(c,{label:`Answer (${e.toUpperCase()})`,value:m.answer[e],onChange:s=>j({...m,answer:{...m.answer,[e]:s.target.value}}),fullWidth:!0,margin:"normal"})]},e))),a.jsxs(n,{display:"flex",justifyContent:"flex-end",mt:4,gap:2,children:[a.jsx(r,{onClick:()=>g(!1),variant:"outlined",color:"secondary",children:"Cancel"}),a.jsx(r,{onClick:async()=>{u(!0);try{const e=await s.post(`${h}/api/faqs`,m);p([...x,e.data.data]),j({question:{en:"",it:"",de:"",fr:""},answer:{en:"",it:"",de:"",fr:""}}),g(!1)}catch(e){console.error("Error adding FAQ:",e)}finally{u(!1)}},variant:"contained",color:"primary",disabled:f,children:f?"Adding...":"Add"})]})]})})]})};export{x as default};
