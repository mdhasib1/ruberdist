import{r as e,j as t,o as n,p as a,Z as s,L as r,a4 as l,bf as i,bx as o}from"./vendor-Zgq9WbFI.js";const d=()=>{const[d,c]=e.useState([]),[h,x]=e.useState([]),[m,g]=e.useState(1),[j,u]=e.useState(new Date),[b,y]=e.useState(null),[p,D]=e.useState(!1),[w,f]=e.useState(!1),[S,N]=e.useState("daily"),k=Array.from({length:24},((e,t)=>t+6));e.useEffect((()=>{(async()=>{const e=await(async()=>[{id:1,name:"Van 1"},{id:2,name:"Van 2"},{id:3,name:"Van 3"}])();c(e)})()}),[]),e.useEffect((()=>{(async()=>{const e=new Date(j);let t=new Date(j);"daily"===S?t.setDate(e.getDate()+1):"weekly"===S?t.setDate(e.getDate()+7):"monthly"===S&&(t.setMonth(e.getMonth()+1),t.setDate(0));const n=await(async(e,t)=>({1:[{start:6,end:8,date:new Date(t).toISOString().split("T")[0],customer:{name:"John Doe",phone:"123-456-7890",email:"john@example.com"},status:"pending"},{start:14,end:16,date:new Date(t).toISOString().split("T")[0],customer:{name:"Jane Smith",phone:"987-654-3210",email:"jane@example.com"},status:"confirmed"}]}[e]||[]))(m,e);x(n)})()}),[m,j,S]);const v=e=>{y(e),D(!0)},C=()=>{D(!1),y(null)},M=e=>{f(e)},A=e=>{const t=new Date(j);"daily"===S?t.setDate(t.getDate()+e):"weekly"===S?t.setDate(t.getDate()+7*e):"monthly"===S&&t.setMonth(t.getMonth()+e),u(t)},L=e=>e.toLocaleDateString();return t.jsxs("div",{className:"flex",children:[t.jsx(n,{anchor:"left",open:w,onClose:()=>M(!1),children:t.jsxs("div",{className:"p-4 w-80",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Select Van"}),t.jsx(a,{children:d.map((e=>t.jsx(s,{button:!0,selected:m===e.id,onClick:()=>g(e.id),children:t.jsx(r,{primary:e.name})},e.id)))})]})}),t.jsxs("div",{className:"flex-1 p-4",children:[t.jsxs("div",{className:"flex justify-between mb-4",children:[t.jsx(l,{onClick:()=>M(!0),variant:"contained",children:"Select Van"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(l,{onClick:()=>N("daily"),variant:"daily"===S?"contained":"outlined",children:"Daily"}),t.jsx(l,{onClick:()=>N("weekly"),variant:"weekly"===S?"contained":"outlined",children:"Weekly"}),t.jsx(l,{onClick:()=>N("monthly"),variant:"monthly"===S?"contained":"outlined",children:"Monthly"})]}),t.jsx(l,{onClick:()=>A(-1),variant:"outlined",children:"Prev"}),t.jsx(l,{onClick:()=>A(1),variant:"outlined",children:"Next"})]}),"daily"===S&&t.jsxs("table",{className:"min-w-full table-fixed border-collapse shadow-lg rounded-lg bg-white",children:[t.jsx("thead",{children:t.jsx("tr",{children:k.map((e=>t.jsx("th",{className:"p-3 bg-gray-100 border border-gray-300 text-center font-medium text-gray-600",children:`${e}:00 - ${e+1}:00`},e)))})}),t.jsx("tbody",{children:t.jsx("tr",{children:k.map((e=>{const n=h.find((t=>e>=t.start&&e<t.end));return t.jsx("td",{className:"p-10 border border-gray-300 text-center "+(n?"bg-green-400 text-white cursor-pointer":"bg-white text-gray-500"),onClick:()=>n&&v(n),children:n?t.jsxs("div",{className:"flex justify-center items-center",children:[t.jsx(o,{className:"mr-2"}),"pending"===n.status?"Pending":"Booked"]}):"Available"},`${m}-${e}`)}))})})]}),"weekly"===S&&(()=>{const e=new Date(j);e.setDate(e.getDate()-e.getDay());const n=new Date(e);n.setDate(e.getDate()+7);const a=Array.from({length:7},((t,n)=>{const a=new Date(e);return a.setDate(e.getDate()+n),a}));return t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["Week: ",L(e)," - ",L(n)]}),t.jsxs("table",{className:"min-w-full table-fixed border-collapse shadow-lg rounded-lg bg-white",children:[t.jsx("thead",{children:t.jsx("tr",{children:a.map((e=>t.jsxs("th",{className:"p-3 bg-gray-100 border border-gray-300 text-center font-medium text-gray-600",children:[e.toLocaleDateString("en-US",{weekday:"short"})," ",t.jsx("br",{})," ",L(e)]},e)))})}),t.jsx("tbody",{children:t.jsx("tr",{children:a.map((e=>{const n=h.filter((t=>new Date(t.date).toDateString()===e.toDateString()));return t.jsxs("td",{className:"p-10 border border-gray-300 text-center "+(n.length>0?"bg-green-400 text-white cursor-pointer":"bg-white text-gray-500"),onClick:()=>n.length>0&&v(n[0]),children:[n.length," Booked"]},e)}))})})]})]})})(),"monthly"===S&&(()=>{const e=new Date(j.getFullYear(),j.getMonth(),1),n=new Date(j.getFullYear(),j.getMonth()+1,0),a=Array.from({length:n.getDate()},((t,n)=>{const a=new Date(e);return a.setDate(n+1),a}));return t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["Month: ",e.toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),t.jsxs("table",{className:"min-w-full table-fixed border-collapse shadow-lg rounded-lg bg-white",children:[t.jsx("thead",{children:t.jsx("tr",{children:a.slice(0,7).map((e=>t.jsxs("th",{className:"p-3 bg-gray-100 border border-gray-300 text-center font-medium text-gray-600",children:[e.toLocaleDateString("en-US",{weekday:"short"})," ",t.jsx("br",{})," ",L(e)]},e)))})}),t.jsx("tbody",{children:Array.from({length:Math.ceil(a.length/7)},((e,n)=>t.jsx("tr",{children:a.slice(7*n,7*(n+1)).map((e=>{const n=h.filter((t=>new Date(t.date).toDateString()===e.toDateString()));return t.jsx("td",{className:"p-10 border border-gray-300 text-center "+(n.length>0?"bg-green-400 text-white cursor-pointer":"bg-white text-gray-500"),onClick:()=>n.length>0&&v(n[0]),children:n.length},e)}))},n)))})]})]})})(),t.jsx(i,{open:p,onClose:C,children:t.jsx("div",{className:"p-6 mx-auto mt-20 max-w-md bg-white rounded-lg shadow-lg",children:b&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Booking Details"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Customer Name:"})," ",b.customer.name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Phone:"})," ",b.customer.phone]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Email:"})," ",b.customer.email]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Date:"})," ",b.date]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Time:"})," ",b.start,":00 - ",b.end,":00"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Status:"})," ",b.status]}),t.jsx(l,{onClick:C,variant:"contained",color:"primary",className:"mt-4",children:"Close"})]})})})]})]})};export{d as default};
