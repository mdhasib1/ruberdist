import{r,j as e,bM as h,U as d,P as t,D as u,b as m}from"./vendor-D-GSuRVS.js";const j="https://www.rubertogo.com";function v(){const[a,n]=r.useState({totalBookings:0,todayBookingCount:0,thisMonthBookings:0,pendingBookings:0,completedBookings:0,canceledBookings:0,totalRevenue:0,availableVans:0,earningsHistory:[],availableBalance:0,totalPendingEarnings:0}),[l,c]=r.useState(!0);r.useEffect(()=>{(async()=>{try{c(!0);const o=await m.get(`${j}/api/getDashboardData`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});console.log("Dashboard data:",o.data),n(o.data||{})}catch(o){console.error("Error fetching dashboard data:",o)}finally{c(!1)}})()},[]);const g=[{field:"date",headerName:"Date",width:150},{field:"amount",headerName:"Amount (CHF)",width:150},{field:"description",headerName:"Description",width:200}],x=a.earningsHistory.map((i,o)=>({id:o+1,date:i.date,amount:i.amount.toFixed(2),description:i.description}));return l?e.jsx(b,{}):e.jsxs("div",{className:"min-h-screen container m-auto bg-gradient-to-r from-blue-50 to-blue-100 p-2 ",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("h1",{className:"text-2xl flex items-center gap-2 font-semibold text-gray-800",children:[e.jsx(h,{className:"text-red-300"})," Dashboard"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(s,{title:"Available Balance",value:`CHF ${a.availableBalance.toFixed(2)}`,icon:e.jsx(d,{})}),e.jsx(s,{title:"Available Balance",value:`CHF ${a.totalPendingEarnings.toFixed(2)}`,icon:e.jsx(d,{})}),e.jsx(s,{title:"Total Bookings",value:a.totalBookings,icon:e.jsx(t,{})}),e.jsx(s,{title:"Today's Bookings",value:a.todayBookingCount,icon:e.jsx(t,{})}),e.jsx(s,{title:"This Month's Bookings",value:a.thisMonthBookings,icon:e.jsx(t,{})}),e.jsx(s,{title:"Pending Bookings",value:a.pendingBookings,icon:e.jsx(t,{})}),e.jsx(s,{title:"Completed Bookings",value:a.completedBookings,icon:e.jsx(t,{})}),e.jsx(s,{title:"Canceled Bookings",value:a.canceledBookings,icon:e.jsx(t,{})}),e.jsx(s,{title:"Available Vans",value:a.availableVans,icon:e.jsx(t,{})}),e.jsx(s,{title:"Total Revenue",value:`$${a.totalRevenue}`,icon:e.jsx(d,{})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Earnings History"}),e.jsx("div",{style:{height:400,width:"100%"},children:e.jsx(u,{rows:x,columns:g,pageSize:5,rowsPerPageOptions:[5,10,15],checkboxSelection:!1,disableSelectionOnClick:!0})})]})]})}function s({title:a,value:n,icon:l}){return e.jsxs("div",{className:"flex items-center p-4 bg-white shadow rounded-lg",children:[e.jsx("div",{className:"p-4 bg-gray-200 text-2xl rounded-full",children:l}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:a}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n})]})]})}function b(){return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-blue-50",children:e.jsx("p",{children:"Loading..."})})}export{v as default};
