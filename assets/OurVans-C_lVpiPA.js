import{x as f,r as a,j as e,bJ as c,aw as g,C as h}from"./vendor-Bsame8Xi.js";import{a as p}from"./index-1rGq-pbp.js";import{M as j}from"./Modal-DGajEfp3.js";import{V as b}from"./VanCard-BJlc161Y.js";import{u as v}from"./useVanStore-DYe2Q9Dl.js";import"./Carousel-CLD5YOHx.js";const E=f.memo(()=>{const{vans:s,loading:r,fetchVans:n,page:m,totalPages:u}=v(),{translations:d}=p(),[l,x]=a.useState(null),i=a.useRef(null);return a.useEffect(()=>{s.length||n()},[n,s.length]),a.useEffect(()=>{if(!i.current||r||m>u)return;const t=new IntersectionObserver(([o])=>{o.isIntersecting&&n()},{threshold:.5});return t.observe(i.current),()=>t.disconnect()},[n,r,m,u]),e.jsxs("div",{className:"max-w-full mx-auto space-y-8 py-12 bg-white",children:[e.jsx("div",{className:"bg-white bg-opacity-10 backdrop-blur-lg p-5 rounded-xl",children:e.jsx("h1",{className:"text-3xl md:text-5xl text-center font-extrabold text-gray-600",children:d.vansTitle})}),e.jsxs("div",{className:"container m-auto pb-10 p-5",children:[e.jsxs(c,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[r&&s.length===0&&Array.from({length:12}).map((t,o)=>e.jsx(c,{item:!0,xs:12,sm:6,md:6,lg:4,xl:4,children:e.jsx(g,{variant:"rectangular",height:250,width:"100%"})},o)),s.map(t=>e.jsx(c,{item:!0,xs:12,sm:6,md:6,lg:4,xl:4,children:e.jsx(b,{van:t,onSelect:()=>x(t)})},t._id))]}),e.jsx("div",{ref:i,className:"h-10 w-full flex justify-center items-center",children:r&&e.jsx(h,{})}),l&&e.jsx(j,{isOpen:!!l,onClose:()=>x(null),van:l})]})]})});export{E as default};
