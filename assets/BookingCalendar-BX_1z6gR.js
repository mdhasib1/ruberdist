import{r as i,j as e}from"./index-DrMvIKwq.js";import{W as E}from"./index-y5yuKkc0.js";import{D as F}from"./Drawer-BZBO3R-2.js";import{L as T}from"./List-BLDT_Zsz.js";import{L as _}from"./ListItem-DFngUolo.js";import{L as P}from"./ListItemText-CPFOLNaz.js";import{B as m}from"./Button-xUQB_oWD.js";import{M as U}from"./Modal-CfkloFEy.js";import"./iconBase-BBLIWj70.js";import"./Portal-BMjECl0g.js";import"./CircularProgress-B5agUqRt.js";import"./createSimplePaletteValueFilter-zjTMkHT-.js";import"./useTheme-C3_UZ2QD.js";import"./useTheme-CepysXf6.js";import"./Paper-C4BDKHkT.js";import"./isMuiElement-LlRumiQy.js";import"./listItemTextClasses--ZWm_3O6.js";import"./useSlot-BWhg9WXJ.js";import"./Typography-BAti9wpa.js";import"./index-pDPmJGlT.js";const I=async()=>[{id:1,name:"Van 1"},{id:2,name:"Van 2"},{id:3,name:"Van 3"}],J=async(D,h,g)=>({1:[{start:6,end:8,date:new Date(h).toISOString().split("T")[0],customer:{name:"John Doe",phone:"123-456-7890",email:"john@example.com"},status:"pending"},{start:14,end:16,date:new Date(h).toISOString().split("T")[0],customer:{name:"Jane Smith",phone:"987-654-3210",email:"jane@example.com"},status:"confirmed"}]})[D]||[],de=()=>{const[D,h]=i.useState([]),[g,y]=i.useState([]),[x,v]=i.useState(1),[c,B]=i.useState(new Date),[d,b]=i.useState(null),[M,w]=i.useState(!1),[V,L]=i.useState(!1),[r,f]=i.useState("daily"),k=Array.from({length:24},(t,n)=>n+6);i.useEffect(()=>{(async()=>{const n=await I();h(n)})()},[]),i.useEffect(()=>{(async()=>{const n=new Date(c);let a=new Date(c);r==="daily"?a.setDate(n.getDate()+1):r==="weekly"?a.setDate(n.getDate()+7):r==="monthly"&&(a.setMonth(n.getMonth()+1),a.setDate(0));const s=await J(x,n);y(s)})()},[x,c,r]);const u=t=>{b(t),w(!0)},S=()=>{w(!1),b(null)},N=t=>{L(t)},C=t=>{const n=new Date(c);r==="daily"?n.setDate(n.getDate()+t):r==="weekly"?n.setDate(n.getDate()+7*t):r==="monthly"&&n.setMonth(n.getMonth()+t),B(n)},p=t=>t.toLocaleDateString(),O=()=>e.jsxs("table",{className:"min-w-full table-fixed border-collapse shadow-lg rounded-lg bg-white",children:[e.jsx("thead",{children:e.jsx("tr",{children:k.map(t=>e.jsx("th",{className:"p-3 bg-gray-100 border border-gray-300 text-center font-medium text-gray-600",children:`${t}:00 - ${t+1}:00`},t))})}),e.jsx("tbody",{children:e.jsx("tr",{children:k.map(t=>{const n=g.find(a=>t>=a.start&&t<a.end);return e.jsx("td",{className:`p-10 border border-gray-300 text-center ${n?"bg-green-400 text-white cursor-pointer":"bg-white text-gray-500"}`,onClick:()=>n&&u(n),children:n?e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx(E,{className:"mr-2"}),n.status==="pending"?"Pending":"Booked"]}):"Available"},`${x}-${t}`)})})})]}),$=()=>{const t=new Date(c);t.setDate(t.getDate()-t.getDay());const n=new Date(t);n.setDate(t.getDate()+7);const a=Array.from({length:7},(s,o)=>{const l=new Date(t);return l.setDate(t.getDate()+o),l});return e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["Week: ",p(t)," - ",p(n)]}),e.jsxs("table",{className:"min-w-full table-fixed border-collapse shadow-lg rounded-lg bg-white",children:[e.jsx("thead",{children:e.jsx("tr",{children:a.map(s=>e.jsxs("th",{className:"p-3 bg-gray-100 border border-gray-300 text-center font-medium text-gray-600",children:[s.toLocaleDateString("en-US",{weekday:"short"})," ",e.jsx("br",{})," ",p(s)]},s))})}),e.jsx("tbody",{children:e.jsx("tr",{children:a.map(s=>{const o=g.filter(l=>new Date(l.date).toDateString()===s.toDateString());return e.jsxs("td",{className:`p-10 border border-gray-300 text-center ${o.length>0?"bg-green-400 text-white cursor-pointer":"bg-white text-gray-500"}`,onClick:()=>o.length>0&&u(o[0]),children:[o.length," Booked"]},s)})})})]})]})},W=()=>{const t=new Date(c.getFullYear(),c.getMonth(),1),n=new Date(c.getFullYear(),c.getMonth()+1,0),a=Array.from({length:n.getDate()},(s,o)=>{const l=new Date(t);return l.setDate(o+1),l});return e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["Month: ",t.toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),e.jsxs("table",{className:"min-w-full table-fixed border-collapse shadow-lg rounded-lg bg-white",children:[e.jsx("thead",{children:e.jsx("tr",{children:a.slice(0,7).map(s=>e.jsxs("th",{className:"p-3 bg-gray-100 border border-gray-300 text-center font-medium text-gray-600",children:[s.toLocaleDateString("en-US",{weekday:"short"})," ",e.jsx("br",{})," ",p(s)]},s))})}),e.jsx("tbody",{children:Array.from({length:Math.ceil(a.length/7)},(s,o)=>e.jsx("tr",{children:a.slice(o*7,(o+1)*7).map(l=>{const j=g.filter(A=>new Date(A.date).toDateString()===l.toDateString());return e.jsx("td",{className:`p-10 border border-gray-300 text-center ${j.length>0?"bg-green-400 text-white cursor-pointer":"bg-white text-gray-500"}`,onClick:()=>j.length>0&&u(j[0]),children:j.length},l)})},o))})]})]})};return e.jsxs("div",{className:"flex",children:[e.jsx(F,{anchor:"left",open:V,onClose:()=>N(!1),children:e.jsxs("div",{className:"p-4 w-80",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Select Van"}),e.jsx(T,{children:D.map(t=>e.jsx(_,{button:!0,selected:x===t.id,onClick:()=>v(t.id),children:e.jsx(P,{primary:t.name})},t.id))})]})}),e.jsxs("div",{className:"flex-1 p-4",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx(m,{onClick:()=>N(!0),variant:"contained",children:"Select Van"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(m,{onClick:()=>f("daily"),variant:r==="daily"?"contained":"outlined",children:"Daily"}),e.jsx(m,{onClick:()=>f("weekly"),variant:r==="weekly"?"contained":"outlined",children:"Weekly"}),e.jsx(m,{onClick:()=>f("monthly"),variant:r==="monthly"?"contained":"outlined",children:"Monthly"})]}),e.jsx(m,{onClick:()=>C(-1),variant:"outlined",children:"Prev"}),e.jsx(m,{onClick:()=>C(1),variant:"outlined",children:"Next"})]}),r==="daily"&&O(),r==="weekly"&&$(),r==="monthly"&&W(),e.jsx(U,{open:M,onClose:S,children:e.jsx("div",{className:"p-6 mx-auto mt-20 max-w-md bg-white rounded-lg shadow-lg",children:d&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Booking Details"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer Name:"})," ",d.customer.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",d.customer.phone]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",d.customer.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",d.date]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",d.start,":00 - ",d.end,":00"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",d.status]}),e.jsx(m,{onClick:S,variant:"contained",color:"primary",className:"mt-4",children:"Close"})]})})})]})]})};export{de as default};
