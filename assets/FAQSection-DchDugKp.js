import{r as d,j as e,c as C,d as f}from"./index-D-tacDo0.js";import{B as c}from"./Box-C71l__--.js";import{T as x}from"./Typography-DA9Er3Yb.js";import{B as p}from"./Button-DcaeVkm4.js";import{C as A}from"./Card-kxTfTiZe.js";import{C as w}from"./CardContent-DdFcfx19.js";import{g as v,a as N,u as F,s as Q,b as S}from"./createSimplePaletteValueFilter-BA-5fWDN.js";import{M as k}from"./Modal-DeRbA6Cj.js";import{T as y}from"./TextField-Ben9hf97.js";import"./useTheme-BPaKzVUX.js";import"./index-DqaVpj0-.js";import"./CircularProgress-C_nPCmSr.js";import"./Paper-D8__vy1H.js";import"./useTheme-DTUOtr2d.js";import"./Portal-BmHO-mBc.js";import"./useSlot-C4Jq41_r.js";import"./Select-CdTeA48B.js";import"./Menu-D8FtULnJ.js";import"./Grow-BlXXg7GE.js";import"./List-lkVPBD74.js";import"./useControlled-B5g-9vmA.js";import"./createSvgIcon-DSUh4BZ1.js";import"./isMuiElement-7oANgUe6.js";function E(r){return v("MuiCardActions",r)}N("MuiCardActions",["root","spacing"]);const M=r=>{const{classes:o,disableSpacing:t}=r;return S({root:["root",!t&&"spacing"]},E,o)},q=Q("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(r,o)=>{const{ownerState:t}=r;return[o.root,!t.disableSpacing&&o.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),R=d.forwardRef(function(o,t){const a=F({props:o,name:"MuiCardActions"}),{disableSpacing:m=!1,className:l,...h}=a,n={...a,disableSpacing:m},u=M(n);return e.jsx(q,{className:C(u.root,l),ownerState:n,ref:t,...h})}),j="https://rubertogo.com",re=()=>{const[r,o]=d.useState([]),[t,a]=d.useState({question:{en:"",it:"",de:"",fr:""},answer:{en:"",it:"",de:"",fr:""}}),[m,l]=d.useState(!1),[h,n]=d.useState(!1);d.useEffect(()=>{u()},[]);const u=async()=>{try{const s=await f.get(`${j}/api/faqs`);o(s.data.data)}catch(s){console.error("Error fetching FAQs:",s)}},b=async()=>{l(!0);try{const s=await f.post(`${j}/api/faqs`,t);o([...r,s.data.data]),a({question:{en:"",it:"",de:"",fr:""},answer:{en:"",it:"",de:"",fr:""}}),n(!1)}catch(s){console.error("Error adding FAQ:",s)}finally{l(!1)}},g=async s=>{l(!0);try{await f.delete(`${j}/api/faqs/${s}`),o(r.filter(i=>i._id!==s))}catch(i){console.error("Error deleting FAQ:",i)}finally{l(!1)}};return e.jsxs(c,{sx:{p:3,bgcolor:"background.default",minHeight:"100vh"},children:[e.jsxs(c,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(x,{variant:"h4",fontWeight:"bold",children:"FAQ Section"}),e.jsx(p,{variant:"contained",color:"primary",onClick:()=>n(!0),children:"Add New FAQ"})]}),e.jsx(c,{sx:{display:{xs:"block",sm:"none"}},children:r.map(s=>e.jsxs(A,{sx:{mb:2},children:[e.jsxs(w,{children:[e.jsx(x,{variant:"h6",fontWeight:"bold",children:s.question.en}),e.jsx(x,{variant:"body1",color:"text.secondary",mt:1,children:s.answer.en})]}),e.jsx(R,{children:e.jsx(p,{variant:"contained",color:"error",onClick:()=>g(s._id),children:"Delete"})})]},s._id))}),e.jsx(c,{sx:{display:{xs:"none",sm:"block"},overflowX:"auto"},children:e.jsxs("table",{className:"min-w-full bg-white rounded-lg shadow-md",children:[e.jsx("thead",{className:"bg-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 text-left",children:"Question (EN)"}),e.jsx("th",{className:"py-2 px-4 text-left",children:"Answer (EN)"}),e.jsx("th",{className:"py-2 px-4 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(s=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-4",children:s.question.en}),e.jsx("td",{className:"py-2 px-4",children:s.answer.en}),e.jsx("td",{className:"py-2 px-4 text-center",children:e.jsx(p,{variant:"contained",color:"error",onClick:()=>g(s._id),children:"Delete"})})]},s._id))})]})}),e.jsx(k,{open:h,onClose:()=>n(!1),children:e.jsxs(c,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",borderRadius:2,width:{xs:"90%",sm:"75%",md:"50%"},boxShadow:24,height:{xs:"90vh",sm:"85vh",md:"70vh"},overflowY:"auto",p:4},children:[e.jsx(x,{variant:"h6",component:"h2",mb:2,children:"Add New FAQ"}),["en","it","de","fr"].map(s=>e.jsxs("div",{className:"mb-4",children:[e.jsx(y,{label:`Question (${s.toUpperCase()})`,value:t.question[s],onChange:i=>a({...t,question:{...t.question,[s]:i.target.value}}),fullWidth:!0,margin:"normal"}),e.jsx(y,{label:`Answer (${s.toUpperCase()})`,value:t.answer[s],onChange:i=>a({...t,answer:{...t.answer,[s]:i.target.value}}),fullWidth:!0,margin:"normal"})]},s)),e.jsxs(c,{display:"flex",justifyContent:"flex-end",mt:4,gap:2,children:[e.jsx(p,{onClick:()=>n(!1),variant:"outlined",color:"secondary",children:"Cancel"}),e.jsx(p,{onClick:b,variant:"contained",color:"primary",disabled:m,children:m?"Adding...":"Add"})]})]})})]})};export{re as default};
