import{r as i,j as e,v as F,w as T,a4 as W,L as _,B as h,bq as I,bI as P}from"./vendor-DvtMUfbb.js";const U=async()=>[{id:1,name:"Van 1"},{id:2,name:"Van 2"},{id:3,name:"Van 3"}],J=async(u,g,m)=>({1:[{start:6,end:8,date:new Date(g).toISOString().split("T")[0],customer:{name:"John Doe",phone:"123-456-7890",email:"john@example.com"},status:"pending"},{start:14,end:16,date:new Date(g).toISOString().split("T")[0],customer:{name:"Jane Smith",phone:"987-654-3210",email:"jane@example.com"},status:"confirmed"}]})[u]||[],q=()=>{const[u,g]=i.useState([]),[m,f]=i.useState([]),[x,v]=i.useState(1),[c,B]=i.useState(new Date),[d,w]=i.useState(null),[M,p]=i.useState(!1),[V,O]=i.useState(!1),[r,y]=i.useState("daily"),k=Array.from({length:24},(t,n)=>n+6);i.useEffect(()=>{(async()=>{const n=await U();g(n)})()},[]),i.useEffect(()=>{(async()=>{const n=new Date(c);let a=new Date(c);r==="daily"?a.setDate(n.getDate()+1):r==="weekly"?a.setDate(n.getDate()+7):r==="monthly"&&(a.setMonth(n.getMonth()+1),a.setDate(0));const s=await J(x,n);f(s)})()},[x,c,r]);const b=t=>{w(t),p(!0)},S=()=>{p(!1),w(null)},N=t=>{O(t)},C=t=>{const n=new Date(c);r==="daily"?n.setDate(n.getDate()+t):r==="weekly"?n.setDate(n.getDate()+7*t):r==="monthly"&&n.setMonth(n.getMonth()+t),B(n)},j=t=>t.toLocaleDateString(),L=()=>e.jsxs("table",{className:"min-w-full table-fixed border-collapse shadow-lg rounded-lg bg-white",children:[e.jsx("thead",{children:e.jsx("tr",{children:k.map(t=>e.jsx("th",{className:"p-3 bg-gray-100 border border-gray-300 text-center font-medium text-gray-600",children:`${t}:00 - ${t+1}:00`},t))})}),e.jsx("tbody",{children:e.jsx("tr",{children:k.map(t=>{const n=m.find(a=>t>=a.start&&t<a.end);return e.jsx("td",{className:`p-10 border border-gray-300 text-center ${n?"bg-green-400 text-white cursor-pointer":"bg-white text-gray-500"}`,onClick:()=>n&&b(n),children:n?e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx(P,{className:"mr-2"}),n.status==="pending"?"Pending":"Booked"]}):"Available"},`${x}-${t}`)})})})]}),$=()=>{const t=new Date(c);t.setDate(t.getDate()-t.getDay());const n=new Date(t);n.setDate(t.getDate()+7);const a=Array.from({length:7},(s,l)=>{const o=new Date(t);return o.setDate(t.getDate()+l),o});return e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["Week: ",j(t)," - ",j(n)]}),e.jsxs("table",{className:"min-w-full table-fixed border-collapse shadow-lg rounded-lg bg-white",children:[e.jsx("thead",{children:e.jsx("tr",{children:a.map(s=>e.jsxs("th",{className:"p-3 bg-gray-100 border border-gray-300 text-center font-medium text-gray-600",children:[s.toLocaleDateString("en-US",{weekday:"short"})," ",e.jsx("br",{})," ",j(s)]},s))})}),e.jsx("tbody",{children:e.jsx("tr",{children:a.map(s=>{const l=m.filter(o=>new Date(o.date).toDateString()===s.toDateString());return e.jsxs("td",{className:`p-10 border border-gray-300 text-center ${l.length>0?"bg-green-400 text-white cursor-pointer":"bg-white text-gray-500"}`,onClick:()=>l.length>0&&b(l[0]),children:[l.length," Booked"]},s)})})})]})]})},A=()=>{const t=new Date(c.getFullYear(),c.getMonth(),1),n=new Date(c.getFullYear(),c.getMonth()+1,0),a=Array.from({length:n.getDate()},(s,l)=>{const o=new Date(t);return o.setDate(l+1),o});return e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["Month: ",t.toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),e.jsxs("table",{className:"min-w-full table-fixed border-collapse shadow-lg rounded-lg bg-white",children:[e.jsx("thead",{children:e.jsx("tr",{children:a.slice(0,7).map(s=>e.jsxs("th",{className:"p-3 bg-gray-100 border border-gray-300 text-center font-medium text-gray-600",children:[s.toLocaleDateString("en-US",{weekday:"short"})," ",e.jsx("br",{})," ",j(s)]},s))})}),e.jsx("tbody",{children:Array.from({length:Math.ceil(a.length/7)},(s,l)=>e.jsx("tr",{children:a.slice(l*7,(l+1)*7).map(o=>{const D=m.filter(E=>new Date(E.date).toDateString()===o.toDateString());return e.jsx("td",{className:`p-10 border border-gray-300 text-center ${D.length>0?"bg-green-400 text-white cursor-pointer":"bg-white text-gray-500"}`,onClick:()=>D.length>0&&b(D[0]),children:D.length},o)})},l))})]})]})};return e.jsxs("div",{className:"flex",children:[e.jsx(F,{anchor:"left",open:V,onClose:()=>N(!1),children:e.jsxs("div",{className:"p-4 w-80",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Select Van"}),e.jsx(T,{children:u.map(t=>e.jsx(W,{button:!0,selected:x===t.id,onClick:()=>v(t.id),children:e.jsx(_,{primary:t.name})},t.id))})]})}),e.jsxs("div",{className:"flex-1 p-4",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx(h,{onClick:()=>N(!0),variant:"contained",children:"Select Van"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(h,{onClick:()=>y("daily"),variant:r==="daily"?"contained":"outlined",children:"Daily"}),e.jsx(h,{onClick:()=>y("weekly"),variant:r==="weekly"?"contained":"outlined",children:"Weekly"}),e.jsx(h,{onClick:()=>y("monthly"),variant:r==="monthly"?"contained":"outlined",children:"Monthly"})]}),e.jsx(h,{onClick:()=>C(-1),variant:"outlined",children:"Prev"}),e.jsx(h,{onClick:()=>C(1),variant:"outlined",children:"Next"})]}),r==="daily"&&L(),r==="weekly"&&$(),r==="monthly"&&A(),e.jsx(I,{open:M,onClose:S,children:e.jsx("div",{className:"p-6 mx-auto mt-20 max-w-md bg-white rounded-lg shadow-lg",children:d&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Booking Details"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer Name:"})," ",d.customer.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",d.customer.phone]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",d.customer.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",d.date]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",d.start,":00 - ",d.end,":00"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",d.status]}),e.jsx(h,{onClick:S,variant:"contained",color:"primary",className:"mt-4",children:"Close"})]})})})]})]})};export{q as default};
